<!DOCTYPE html>
<!-- saved from url=(0080)file:///E:/useful/GCC_Make_CMake%20%E4%B9%8B%20GCC%20-%20%E7%9F%A5%E4%B9%8E.html -->
<html lang="zh" data-hairline="true" data-theme="light" data-react-helmet="data-theme"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>GCC/Make/CMake 之 GCC - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"><meta data-react-helmet="true" name="keywords" content="GCC,make,CMake"><meta data-react-helmet="true" name="description" content="本系列教程将介绍 现代C/C++项目的构建编译常用工具链，GCC，Make，以及CMake。 其中，GCC是C/C++语言的编译工具，Make是增量式（编译）批处理工具，CMake是Make脚本生成工具。 在现代C/C++项目的构建中，它们的关…"><meta data-react-helmet="true" property="og:title" content="GCC/Make/CMake 之 GCC"><meta data-react-helmet="true" property="og:url" content="https://zhuanlan.zhihu.com/p/342151242"><meta data-react-helmet="true" property="og:description" content="本系列教程将介绍 现代C/C++项目的构建编译常用工具链，GCC，Make，以及CMake。 其中，GCC是C/C++语言的编译工具，Make是增量式（编译）批处理工具，CMake是Make脚本生成工具。 在现代C/C++项目的构建中，它们的关…"><meta data-react-helmet="true" property="og:image" content=""><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="og:site_name" content="知乎专栏"><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.a53ae37b.png"><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.a53ae37b.png" sizes="152x152"><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-120.bbce8f18.png" sizes="120x120"><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-76.cbade8f9.png" sizes="76x76"><link data-react-helmet="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-60.8f6c52aa.png" sizes="60x60"><link crossorigin="" rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/heifetz/favicon.ico"><link crossorigin="" rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/heifetz/search.xml" title="知乎"><link rel="dns-prefetch" href="https://static.zhimg.com/"><link rel="dns-prefetch" href="https://pic1.zhimg.com/"><link rel="dns-prefetch" href="https://pic2.zhimg.com/"><link rel="dns-prefetch" href="https://pic3.zhimg.com/"><link rel="dns-prefetch" href="https://pic4.zhimg.com/"><style>
.u-safeAreaInset-top {
  height: constant(safe-area-inset-top) !important;
  height: env(safe-area-inset-top) !important;
  
}
.u-safeAreaInset-bottom {
  height: constant(safe-area-inset-bottom) !important;
  height: env(safe-area-inset-bottom) !important;
  
}
</style><link href="./GCC_Make_CMake 之 GCC - 知乎_files/column.app.216a26f4.c7b03dfcb61f3818e6d3.css" crossorigin="" rel="stylesheet"><script nonce="">!function(){"use strict";!function(e,n){var r,t,a,c,o,i=[];function s(e){return function(){i.push([e,arguments])}}function u(e){var n=e;if(!(e instanceof Error||e instanceof ErrorEvent||e instanceof DOMError||e instanceof DOMException)){var r=e.message||e.reason;n=Error(r)}Raven.captureException(n)}n.Raven={captureException:s("captureException"),captureMessage:s("captureMessage"),captureBreadcrumb:s("captureBreadcrumb")},n.addEventListener("unhandledrejection",u),n.addEventListener("error",u,!0),r=e.src,t=e,a=function(){i.forEach(function(e){var n;(n=Raven)[e[0]].apply(n,e[1])}),n.removeEventListener("unhandledrejection",u),n.removeEventListener("error",u,!0)},c=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("script")).crossOrigin=t.crossOrigin,o.dataset.sentryConfig=t["data-sentry-config"],o.onload=a,o.src=r,c.appendChild(o)}({"defer":true,"crossOrigin":"anonymous","src":"https://unpkg.zhimg.com/@cfe/sentry-script@1.3.0/dist/init.js","data-sentry-config":"{\"dsn\":\"https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224\",\"sampleRate\":0.1,\"release\":\"3239-5797f18a\",\"ignoreErrorNames\":[\"NetworkError\",\"SecurityError\"],\"ignoreErrorsPreset\":\"ReactApp\"}"},window)}();
</script><script crossorigin="anonymous" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;3239-5797f18a&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrorsPreset&quot;:&quot;ReactApp&quot;}" src="./GCC_Make_CMake 之 GCC - 知乎_files/init.js.下载"></script><script crossorigin="anonymous" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;3239-5797f18a&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrorsPreset&quot;:&quot;ReactApp&quot;}" src="./GCC_Make_CMake 之 GCC - 知乎_files/init.js(1).下载"></script><style data-emotion-css="1hlrcxk">.css-1hlrcxk{-webkit-transition-property:fill;transition-property:fill;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;}</style><style data-emotion-css="1cd9gw4">.css-1cd9gw4{margin-left:.3em;}</style><style data-emotion-css="1yuhvjn">.css-1yuhvjn{margin-top:16px;}</style><style data-emotion-css="3jt6os">.css-3jt6os .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-3jt6os .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-3jt6os .FileLinkCard-info{margin-left:12px;}.css-3jt6os .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-3jt6os .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-3jt6os .FileLinkCard-source{white-space:pre;}</style><style data-emotion-css="1wr1m8">.css-1wr1m8 .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-1wr1m8 .LinkCard.new,.css-1wr1m8 .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1wr1m8 .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1wr1m8 .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-1wr1m8 .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1wr1m8 .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1wr1m8 .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1wr1m8 .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-1wr1m8 .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1wr1m8 .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1wr1m8 .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1wr1m8 .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-1wr1m8 .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-1wr1m8 .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1wr1m8 .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1wr1m8 .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1wr1m8 .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1wr1m8 .LinkCard.old,.css-1wr1m8 .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1wr1m8 .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}</style><style data-emotion-css="hypxot">.css-hypxot .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-hypxot .LinkCard.old,.css-hypxot .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-hypxot .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-hypxot .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-hypxot .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-hypxot .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-hypxot .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-hypxot .LinkCard.new,.css-hypxot .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-hypxot .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-hypxot .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-hypxot .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-hypxot .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hypxot .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-hypxot .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-hypxot .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-hypxot .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-hypxot .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hypxot .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-hypxot .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hypxot .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-hypxot .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-hypxot .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-hypxot .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-hypxot .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-hypxot .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-hypxot .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-hypxot .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-hypxot .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-hypxot .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-hypxot .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-hypxot .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-hypxot .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-hypxot .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-hypxot .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-hypxot .FileLinkCard-info{margin-left:12px;}.css-hypxot .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-hypxot .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-hypxot .FileLinkCard-source{white-space:pre;}</style><style data-emotion-css="hnrfcf animation-1sh55c5">.css-hnrfcf{word-break:break-word;line-height:1.6;}.css-hnrfcf a.UserLink-link{color:#175199;}.css-hnrfcf a.UserLink-link:hover{border-bottom:1px solid #175199;}.css-hnrfcf lazy[data-lazy-status]{background-color:#F6F6F6;}.css-hnrfcf lazy[data-lazy-status="ok"]{background-color:transparent;-webkit-animation:animation-1sh55c5 0.5s ease-in;animation:animation-1sh55c5 0.5s ease-in;}.css-hnrfcf > *:first-of-type{margin-top:0;}.css-hnrfcf > :last-child{margin-bottom:0;}.css-hnrfcf h1,.css-hnrfcf h2{clear:left;margin-top:calc((1.4em * 2) / 1.2);margin-bottom:calc(1.4em / 1.2);font-size:1.2em;line-height:1.5;font-weight:600;}.css-hnrfcf h3,.css-hnrfcf h4,.css-hnrfcf h5,.css-hnrfcf h6{clear:left;margin-top:calc((1.4em * 1.5) / 1.1);margin-bottom:calc(1.4em / 1.1);font-size:1.1em;line-height:1.5;font-weight:600;}.css-hnrfcf u{-webkit-text-decoration:none;text-decoration:none;border-bottom:1px dashed #808080;}.css-hnrfcf b{font-weight:600;}.css-hnrfcf sup{font-size:0.8em;}.css-hnrfcf sup[data-draft-type='reference']{color:#175199;}.css-hnrfcf a:focus{outline:none;-webkit-transition:box-shadow 0.3s;transition:box-shadow 0.3s;}html[data-focus-visible] .css-hnrfcf a:focus{box-shadow:0 0 0 2px #FFFFFF,0 0 0 4px rgba(0,102,255,0.3);}.css-hnrfcf a.ztext-link,.css-hnrfcf a.internal,.css-hnrfcf a.external{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;border-bottom:1px solid #808080;}.css-hnrfcf a.ztext-link:hover,.css-hnrfcf a.internal:hover,.css-hnrfcf a.external:hover{color:#175199;border-bottom:1px solid #175199;}.css-hnrfcf a.ztext-link > .ellipsis::after,.css-hnrfcf a.internal > .ellipsis::after,.css-hnrfcf a.external > .ellipsis::after{content:'...';}.css-hnrfcf a.ztext-link > .invisible,.css-hnrfcf a.internal > .invisible,.css-hnrfcf a.external > .invisible{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;}.css-hnrfcf a.ztext-link u,.css-hnrfcf a.internal u,.css-hnrfcf a.external u{border:none;}.css-hnrfcf a.member_mention{color:#175199;}.css-hnrfcf a.member_mention:hover{border-bottom:1px solid #175199;}.css-hnrfcf p{margin:1.4em 0;}.css-hnrfcf p.ztext-empty-paragraph{margin:calc((2.8em- (1.4em * 2 + 1.6em)) / 2) 0;}.css-hnrfcf p.ztext-empty-paragraph + .ztext-empty-paragraph{margin:1.4em 0;}.css-hnrfcf hr{margin:4em auto;width:240px;max-width:100%;border:none;border-top:1px solid #D3D3D3;}.css-hnrfcf img[eeimg]{max-width:100%;vertical-align:middle;}.css-hnrfcf img[eeimg="1"]{margin:0 3px;display:inline-block;}.css-hnrfcf img[eeimg="2"]{margin:1.4em 0;display:block;}.css-hnrfcf blockquote{margin:1.4em 0;padding-left:1em;color:#646464;border-left:3px solid #D3D3D3;}.css-hnrfcf ol,.css-hnrfcf ul{margin:1.4em 0;padding:0;}.css-hnrfcf ol ol,.css-hnrfcf ul ol,.css-hnrfcf ol ul,.css-hnrfcf ul ul{margin:0;}.css-hnrfcf ol > ol,.css-hnrfcf ul > ol,.css-hnrfcf ol > ul,.css-hnrfcf ul > ul{display:table-row;}.css-hnrfcf ol > ol::before,.css-hnrfcf ul > ol::before,.css-hnrfcf ol > ul::before,.css-hnrfcf ul > ul::before{display:table-cell;content:'';}.css-hnrfcf ul{display:table;}.css-hnrfcf ul>li{display:table-row;list-style:none;}.css-hnrfcf ul>li::before{display:table-cell;content:'•  ';white-space:pre;}.css-hnrfcf ol{display:table;counter-reset:ol;}.css-hnrfcf ol > li{display:table-row;list-style:none;}.css-hnrfcf ol > li::before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol) '. ';white-space:pre;}.css-hnrfcf ol ol{counter-reset:ol2;}.css-hnrfcf ol ol li::before{counter-increment:ol2;content:counter(ol2) '. ';}.css-hnrfcf ol ol ol{counter-reset:ol3;}.css-hnrfcf ol ol ol li::before{counter-increment:ol3;content:counter(ol3) '. ';}.css-hnrfcf ol ol ol ol{counter-reset:ol4;}.css-hnrfcf ol ol ol ol li::before{counter-increment:ol4;content:counter(ol4) '. ';}.css-hnrfcf figure{margin:1.4em 0;}.css-hnrfcf figure .content_image,.css-hnrfcf figure .origin_image{margin:0 auto;}.css-hnrfcf figure figcaption{margin-top:calc(0.6em / 0.9);padding:0 1em;font-size:0.9em;line-height:1.5;text-align:center;color:#999999;}.css-hnrfcf figure + figure{margin-top:calc(1.4em * 1.6);}.css-hnrfcf figure[data-size='small'],.css-hnrfcf figure:not([data-size]) > [data-size='small']{clear:both;}.css-hnrfcf figure[data-size='left'],.css-hnrfcf figure:not([data-size]) > [data-size='left']{float:left;margin:0 20px 20px 0;max-width:33%;}.css-hnrfcf figure[data-size='right'],.css-hnrfcf figure:not([data-size]) > [data-size='right']{float:right;margin:0 0 20px 20px;max-width:33%;}.css-hnrfcf figure[data-size='collapse']{margin-bottom:0;}.css-hnrfcf figure[data-size='collapse'] + figure{margin-top:0;}.css-hnrfcf .content_image,.css-hnrfcf .origin_image{display:block;max-width:100%;margin:1.4em auto;}.css-hnrfcf .content_image[data-size='small'],.css-hnrfcf .origin_image[data-size='small']{max-width:40%;}.css-hnrfcf .content_image.zh-lightbox-thumb,.css-hnrfcf .origin_image.zh-lightbox-thumb{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in;}.css-hnrfcf code{margin:0 2px;padding:3px 4px;border-radius:3px;font-size:0.9em;background-color:#F6F6F6;}.css-hnrfcf pre{margin:1.4em 0;padding:calc(0.8em / 0.9);font-size:0.9em;word-break:initial;word-wrap:initial;white-space:pre;overflow:auto;-webkit-overflow-scrolling:touch;background:#F6F6F6;border-radius:4px;}.css-hnrfcf pre code{margin:0;padding:0;font-size:inherit;border-radius:0;background-color:inherit;}.css-hnrfcf li pre{white-space:pre-wrap;}.css-hnrfcf table[data-draft-type='table']{border-collapse:collapse;font-size:15px;margin:1.4em auto;max-width:100%;table-layout:fixed;text-align:left;width:100%;}.css-hnrfcf table[data-draft-type='table'][data-size='small']{min-width:260px;width:40%;}.css-hnrfcf table[data-draft-type='table'][data-row-style='striped'] tr:nth-of-type(2n + 1){background:#F6F6F6;}.css-hnrfcf table[data-draft-type='table'] td,.css-hnrfcf table[data-draft-type='table'] th{border:1px solid #D3D3D3;line-height:24px;height:24px;padding:3px 12px;}.css-hnrfcf table[data-draft-type='table'] th{background:#EBEBEB;color:#121212;font-weight:500;}.css-hnrfcf .video-box,.css-hnrfcf .link-box{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:1.4em 0;overflow:auto;white-space:normal;cursor:pointer;border:solid 1px #EBEBEB;border-radius:4px;}.css-hnrfcf .highlight{margin:1em 0;}.css-hnrfcf .highlight pre{margin:0;}.css-hnrfcf .highlight .hll{background-color:#FDFDFD;}.css-hnrfcf .highlight .c{font-style:italic;color:#999999;}.css-hnrfcf .highlight .err{color:#F1403C;}.css-hnrfcf .highlight .k{font-weight:600;}.css-hnrfcf .highlight .o{font-weight:600;}.css-hnrfcf .highlight .cm{font-style:italic;color:#999999;}.css-hnrfcf .highlight .cp{font-weight:600;color:#999999;}.css-hnrfcf .highlight .c1{font-style:italic;color:#999999;}.css-hnrfcf .highlight .cs{font-style:italic;font-weight:600;color:#999999;}.css-hnrfcf .highlight .gd{color:#FF3366;}.css-hnrfcf .highlight .ge{font-style:italic;}.css-hnrfcf .highlight .gr{color:#F1403C;}.css-hnrfcf .highlight .gh{color:#999999;}.css-hnrfcf .highlight .gi{color:#12b370;}.css-hnrfcf .highlight .go{color:#808080;}.css-hnrfcf .highlight .gp{color:#646464;}.css-hnrfcf .highlight .gs{font-weight:600;}.css-hnrfcf .highlight .gu{color:#999999;}.css-hnrfcf .highlight .gt{color:#F1403C;}.css-hnrfcf .highlight .kc{font-weight:600;}.css-hnrfcf .highlight .kd{font-weight:600;}.css-hnrfcf .highlight .kn{font-weight:600;}.css-hnrfcf .highlight .kp{font-weight:600;}.css-hnrfcf .highlight .kr{font-weight:600;}.css-hnrfcf .highlight .kt{font-weight:600;color:#175199;}.css-hnrfcf .highlight .m{color:#0066FF;}.css-hnrfcf .highlight .s{color:#F1403C;}.css-hnrfcf .highlight .na{color:#0066FF;}.css-hnrfcf .highlight .nb{color:#0066FF;}.css-hnrfcf .highlight .nc{font-weight:600;color:#175199;}.css-hnrfcf .highlight .no{color:#0066FF;}.css-hnrfcf .highlight .ni{color:#5868D1;}.css-hnrfcf .highlight .ne{font-weight:600;color:#F1403C;}.css-hnrfcf .highlight .nf{font-weight:600;color:#F1403C;}.css-hnrfcf .highlight .nn{color:#646464;}.css-hnrfcf .highlight .nt{color:#175199;}.css-hnrfcf .highlight .nv{color:#0066FF;}.css-hnrfcf .highlight .ow{font-weight:600;}.css-hnrfcf .highlight .w{color:#BFBFBF;}.css-hnrfcf .highlight .mf{color:#0066FF;}.css-hnrfcf .highlight .mh{color:#0066FF;}.css-hnrfcf .highlight .mi{color:#0066FF;}.css-hnrfcf .highlight .mo{color:#0066FF;}.css-hnrfcf .highlight .sb{color:#F1403C;}.css-hnrfcf .highlight .sc{color:#F1403C;}.css-hnrfcf .highlight .sd{color:#F1403C;}.css-hnrfcf .highlight .s2{color:#F1403C;}.css-hnrfcf .highlight .se{color:#F1403C;}.css-hnrfcf .highlight .sh{color:#F1403C;}.css-hnrfcf .highlight .si{color:#F1403C;}.css-hnrfcf .highlight .sx{color:#F1403C;}.css-hnrfcf .highlight .sr{color:#C2A469;}.css-hnrfcf .highlight .s1{color:#F1403C;}.css-hnrfcf .highlight .ss{color:#F1403C;}.css-hnrfcf .highlight .bp{color:#999999;}.css-hnrfcf .highlight .vc{color:#0066FF;}.css-hnrfcf .highlight .vg{color:#0066FF;}.css-hnrfcf .highlight .vi{color:#0066FF;}.css-hnrfcf .highlight .il{color:#0066FF;}.css-hnrfcf .highlight::-webkit-scrollbar{width:6px;height:6px;}.css-hnrfcf .highlight::-webkit-scrollbar-thumb:horizontal{background-color:rgba(18,18,18,0.5);border-radius:6px;}.css-hnrfcf .highlight::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(18,18,18,0.6);}.css-hnrfcf .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-hnrfcf .LinkCard.old,.css-hnrfcf .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-hnrfcf .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-hnrfcf .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-hnrfcf .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-hnrfcf .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hnrfcf .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-hnrfcf .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-hnrfcf .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-hnrfcf .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-hnrfcf .LinkCard.new,.css-hnrfcf .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-hnrfcf .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-hnrfcf .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-hnrfcf .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-hnrfcf .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hnrfcf .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-hnrfcf .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-hnrfcf .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-hnrfcf .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-hnrfcf .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hnrfcf .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-hnrfcf .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-hnrfcf .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-hnrfcf .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-hnrfcf .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-hnrfcf .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-hnrfcf .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-hnrfcf .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-hnrfcf .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-hnrfcf .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-hnrfcf .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-hnrfcf .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-hnrfcf .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-hnrfcf .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-hnrfcf .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-hnrfcf .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-hnrfcf .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-hnrfcf .FileLinkCard-info{margin-left:12px;}.css-hnrfcf .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-hnrfcf .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-hnrfcf .FileLinkCard-source{white-space:pre;}@-webkit-keyframes animation-1sh55c5{from{opacity:0;}to{opacity:1;}}@keyframes animation-1sh55c5{from{opacity:0;}to{opacity:1;}}</style><style data-emotion-css="qbubgm">.css-qbubgm{margin-left:0;}</style><script charset="utf-8" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.zswsdid.16829079bd690ac9a27d.js.下载" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./GCC_Make_CMake 之 GCC - 知乎_files/column.user-hover-card.216a26f4.d5864fcdfb2e08d16646.css" crossorigin="anonymous"><script charset="utf-8" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.user-hover-card.a1a653858f917e52fee6.js.下载" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./GCC_Make_CMake 之 GCC - 知乎_files/column.Labels.216a26f4.7d19d2afdc588e36471f.css" crossorigin="anonymous"><script charset="utf-8" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.Labels.35597c25e8ceedaa54f6.js.下载" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./GCC_Make_CMake 之 GCC - 知乎_files/column.GoodsRecommendGoodsCardList.216a26f4.ce4a073e70875c087951.css" crossorigin="anonymous"><script charset="utf-8" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.GoodsRecommendGoodsCardList.245327ae732dc2eedad0.js.下载" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./GCC_Make_CMake 之 GCC - 知乎_files/column.modals.216a26f4.4dc70059b1782131c704.css" crossorigin="anonymous"><script charset="utf-8" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.modals.92a68a960295eee895dd.js.下载" crossorigin="anonymous"></script><link rel="stylesheet" type="text/css" href="./GCC_Make_CMake 之 GCC - 知乎_files/column.comments-modals.216a26f4.5c43ac1fe3fc4de279ea.css" crossorigin="anonymous"><script charset="utf-8" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.comments-modals.1b0c3b474a9d25162cab.js.下载" crossorigin="anonymous"></script><style data-emotion="css"></style><link rel="stylesheet" type="text/css" href="./GCC_Make_CMake 之 GCC - 知乎_files/column.richinputV2.216a26f4.4313a74e9558c2481811.css" crossorigin="anonymous"><script charset="utf-8" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.richinputV2.e635643635c78f5e1865.js.下载" crossorigin="anonymous"></script></head><body class="WhiteBg-body" data-react-helmet="class"><div id="root"><div class="App"><div class="LoadingBar"></div><div><span style="position:absolute;top:-10000px;left:-10000px" role="log" aria-live="polite"></span></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;tall-redrain&quot;}" data-zop="{&quot;authorName&quot;:&quot;FRONTIERS&quot;,&quot;itemId&quot;:342151242,&quot;title&quot;:&quot;GCC/Make/CMake 之 GCC&quot;,&quot;type&quot;:&quot;article&quot;}" data-za-detail-view-path-module="PostItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;token&quot;:&quot;342151242&quot;}}}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader" style=""><div class="ColumnPageHeader-content"><a href="https://www.zhihu.com/" aria-label="知乎"></a></div><div class="ColumnPageHeader-profile"><div class="Popover AppHeaderProfileMenu-creatorHintPopover"><div class="AppHeaderProfileMenu-creatorHintToggler" id="Popover8-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover8-content"></div></div></div></div></div></div><article class="Post-Main Post-NormalMain" tabindex="-1"><header class="Post-Header"><h1 class="Post-Title">GCC/Make/CMake 之 GCC</h1><div class="LabelContainer-wrapper"></div></header><div class="Post-RichTextContainer"><div class="css-1yuhvjn"><div class="RichText ztext Post-RichText css-hnrfcf" options="[object Object]"><p>本系列教程将介绍<strong>现代</strong>C/C++项目的构建编译常用工具链，GCC，Make，以及CMake。
其中，GCC是C/C++语言的编译工具，Make是增量式（编译）批处理工具，CMake是Make脚本生成工具。
在现代C/C++项目的构建中，它们的关系如下。</p><div class="highlight"><pre><code class="language-C">              <span class="n">cmake</span>           <span class="n">make</span>       <span class="n">gcc</span>
<span class="n">CMakelist</span><span class="p">.</span><span class="n">txt</span> <span class="o">-----&gt;</span> <span class="n">Makefile</span> <span class="o">----&gt;</span> <span class="n">Cmds</span> <span class="o">---&gt;</span> <span class="n">Binary</span>
</code></pre></div><p>开发者需要编写<code>CMakelist.txt</code>文件，来配置项目相关的CMake参数。
通过运行<code>cmake</code>命令，自动生成对应平台的Make工具自动构建脚本<code>Makefile</code>文件。
当然，CMake也支持生成<strong>其他的</strong>构建工具的配置文件，比如Xcode的<code>xxxx.xcodeproj</code>，Visual Studio的<code>xxxx.sln</code>，Ninja的<code>xxxx.ninja</code>等等。
目前，大多数开源的C/C++项目都支持使用CMake生成<code>Makefile</code>文件，再调用<code>make</code>命令，使用Make工具进行自动构建。
<code>Makefile</code>文件可以看成是一系列<strong>依赖于文件</strong>的Shell命令。
它基于文件修改的<strong>时间戳</strong>来实现增量式处理。
具体规则大致如下，若生成的<strong>目标文件</strong>的时间戳早于<strong>依赖文件</strong>的时间戳时，则执行对应的命令，<strong>重新生成</strong>目标文件。
这实际上暗示了，Make工具不只用于编译，还可以用于其他的<strong>增量式文件生成</strong>任务。
使用Make工具来编译C/C++项目时，一般会使用Shell命令来调用<code>gcc</code>，<strong>自动化</strong>且<strong>增量式</strong>地实现C/C++源代码的编译链接等一系列工作。</p><h2>GCC</h2><p>在早期，GCC为<strong>GNU C Compiler</strong>的简写，即GNU计划中的C语言编译器。
但经过多年的扩展和迭代，GCC逐渐支持C、C++、Objective-C、Fortran、Java、Ada和Go等越来越多语言的编译。
因此，其GCC被重新定义为<strong>GNU Compiler Collection</strong>，即 GNU编译器套件。
在本篇中，我们仅介绍使用GCC编译C/C++项目。</p><blockquote><p>值得注意的是，Apple公司曾经一直使用GCC作为官方的编译器。
但是由于GCC开发社区对Apple所提的需求，给予的优先级始终不高，甚至很多Apple的重要需求基本不做考虑。
于是，财大气粗的Apple一怒之下，决定放弃GCC，基于LLVM重新开发了编译工具Clang，支持 C、C++、Objective-C等语言。
因此，目前macOS上自带的默认<code>gcc</code>命令，实际上调用的是<code>clang</code>。
希望在macOS上使用GCC，需要自行安装，如使用macOS上常用的包管理工具Homebrew，（<code>brew install gcc</code>）。
比较幸运的一点事，<code>clang</code>在使用上（调用方式，参数等方面），基本复刻了<code>gcc</code>。
所以，在本篇中，笔者虽然讲GCC，但实际上给出的例子，都是使用的Clang，但基本上差异不大，不会导致太大的问题。</p></blockquote><h3>编译流程</h3><p>使用<code>gcc</code>编译C/C++程序时，主要的编译流程如下，包含<strong>预处理</strong>、<strong>编译</strong>、<strong>汇编</strong>、<strong>链接</strong>等四个步骤。
以输入C语言程序源码文件<code>b.c</code>为例，直接调用命令<code>gcc b.c</code>，将会<strong>完整执行</strong>以下流程，并生成对应的<strong>可执行</strong>的<strong>二进制</strong>文件<code>a.out</code>。
注意，这里<code>gcc</code>的默认输出就是固定的<code>a.out</code>。
在GCC工具链中，汇编由工具<code>as</code>完成，链接则由工具<code>ld</code>完成。</p><div class="highlight"><pre><code class="language-C">      <span class="o">-</span><span class="n">E</span>          <span class="o">-</span><span class="n">S</span>          <span class="o">-</span><span class="n">c</span>          
<span class="n">b</span><span class="p">.</span><span class="n">c</span> <span class="o">------&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">i</span> <span class="o">------&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">s</span> <span class="o">------&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">o</span> <span class="o">------&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">out</span>
      <span class="n">gcc</span>         <span class="n">gcc</span>         <span class="n">as</span>          <span class="n">ld</span>
</code></pre></div><p>对<code>gcc</code>使用以下指令，将会使其编译流程<strong>停止</strong>在对应位置：</p><ul><li><code>-E</code>，（pr<strong>E</strong>processing），执行到<strong>预处理</strong>步骤之后，即处理C/C++源码中<code>#</code>开头的指令，包括<strong>宏展开</strong>以及<code>#include</code><strong>头文件引入</strong>等等。
该指令默认不输出文件，可以使用<code>-o</code>指令输出约定后缀为<code>*.i</code>的文件。</li><li><code>-S</code>，（a<strong>S</strong>sembly），执行到<strong>编译</strong>步骤之后，生成汇编文件，但不生成二进制机器码。
该指令默认的输出文件后缀为<code>*.s</code>。</li><li><code>-c</code>，（<strong>c</strong>ompilation），执行到<strong>汇编</strong>步骤之后，调用工具<code>as</code>，从汇编码生成二进制机器码，但不进行链接。
该指令默认的输出文件后缀为<code>*.o</code>（<strong>o</strong>bject）。</li><li>不带以上参数调用<code>gcc</code>将会完整执行以上流程，即执行到到<strong>链接</strong>（linking）步骤之后。
链接步骤实际上调用链接工具<code>ld</code>来执行，会将源码生成的二进制文件，库文件，以及程序的启动部分进行组合，从而形成一个完整的二进制可执行文件。</li></ul><p>特别的，使用指令<code>-o</code>，（<strong>o</strong>utput），可以指定输出文件的名称。
例如<code>gcc b.c -o b.bin</code>，将生成可执行文件<code>b.bin</code>，而不是默认的<code>a.out</code>。</p><p>以上指令都可以在编译流程任意环节的基础上进行调用，例如：</p><div class="highlight"><pre><code class="language-shell">&gt; gcc -E b.c -o b.i
&gt; ls
b.c b.i
&gt; gcc -S b.i
b.c b.i b.s
&gt; gcc -c b.s
b.c b.i b.o b.s
&gt; gcc b.o
b.c b.i b.o a.out b.s
</code></pre></div><h3>编译参数</h3><p>对于一个实际的C/C++项目而言，源文件一般不会只有一个，而且绝大多数情况下会使用到<strong>第三方库</strong>（Third-party Library）。
由于C/C++没有官方的<strong>包管理工具</strong>（Package Manager），如Python的<code>pip</code>，Java的<code>maven</code>，Nodejs的<code>npm</code>等等，
所以，在C/C++项目中使用第三方库时，一般使用系统自带的包管理器来进行第三方库的安装，例如Ubuntu下的<code>apt-get</code>，macOS的<code>brew</code>（Homebrew）等等。
同时，也可以选择自行获取第三方库的源码进行编译安装。</p><p>第三方库主要由两个部分组成，即 a)<strong>头文件</strong>， b)<strong>库文件</strong>。
头文件一般是一系列名为<code>xxx.h</code>（<strong>h</strong>ead）的文件，相当于暴露出第三方库所提供的API接口（函数签名）。
库文件一般会包含<strong>静态库文件</strong>和<strong>动态库文件</strong>，相当于第三方库在功能上的二进制实现。
其中，静态库文件是一系列名为<code>libxxx.a</code>（<strong>a</strong>rchive）的文件（Windows下为<code>libxxx.lib</code>，<strong>lib</strong>rary）。
动态库文件则是一系列名为<code>libxxx.so</code>（<strong>s</strong>hared <strong>o</strong>bject）的文件（Windows下为<code>libxxx.dll</code>，<strong>d</strong>ynamic <strong>l</strong>ink <strong>l</strong>ibrary，macOS下为<code>libxxx.dylib</code>，<strong>dy</strong>namic <strong>lib</strong>rary）。
系统自带的，以及由系统包管理器安装的第三方库，其头文件一般在<code>/usr/include</code>或<code>/usr/local/include</code>路径下，库文件一般在<code>/lib</code>，<code>/usr/lib</code>和<code>/usr/local/lib</code>目录下。</p><p>正是由于以上因素的影响，GCC工具链不负责管理第三方库，因此无法判定C/C++项目具体需要使用哪些库，以及这些库的准确信息，如位置、版本等。
所以，仅使用GCC，无法完全自动地解决C/C++项目第三方库的依赖问题。
我们需要人工地添加各种编译参数，如<code>-I</code>，<code>-l</code>以及<code>-L</code>，将所依赖的第三方库的相关信息，传递给<code>gcc</code>编译器。
其中<code>-I</code>传递的是头文件所在的目录，<code>-l</code>传递的是需要链接的库的名称，<code>-L</code>传递的是库文件所在的目录。</p><h4><code>-I</code>参数</h4><p>回顾之前所介绍的GCC编译流程，在<strong>预处理</strong>阶段需要处理<code>#include</code>指令，将包含的头文件替换进源码。
一般来说，在进行预处理时，<code>gcc</code>会自动在当前工程目录下，以及<code>/usr/include</code>目录下寻找对应的头文件。</p><p>但对于位于其他目录下的第三方库的头文件，<code>gcc</code>无法自动寻找到所需头文件的位置，会报出形如<code>xxx.h: file not found</code>的错误。
我们需要使用<code>-I</code>参数来指定第三方库头文件的位置。
例如，在macOS下，使用Homebrew包管理器安装<code>llvm</code>，会相应地安装LLVM项目所包含的第三方库，其对应的头文件位于<code>/usr/local/opt/llvm/include</code>目录。</p>
<p>而我们在使用LLVM提供的库时，可以使用<code>-I/usr/local/opt/llvm/include</code>（或者<code>-I /usr/local/opt/llvm/include</code>，加空格）来指定头文件所在的位置。
从而，<code>gcc</code>会额外在<code>-I</code>参数指定的目录下搜索对应的头文件。
<code>-I</code>参数可以<strong>重复多次</strong>使用，从而指定多个额外的头文件目录。
<code>-I</code>参数一般指定<strong>绝对路径</strong>，但也可以用<strong>相对路径</strong>，比如头文件在当前目录，可以用<code>-I.</code>来指定。</p><blockquote><p>需要注意的是，在C/C++源码中，使用<code>#include"xxxx.h"</code>语句时，其中的<code>xxxx.h</code>可以带上路径。
我们甚至可以使用绝对路径来引用头文件。
比如说，存在头文件<code>/usr/local/opt/llvm/include/llvm/Pass.h</code>，我们在使用它时，可以直接通过这样的方式引用<code>#include"/usr/local/opt/llvm/include/llvm/Pass.h"</code>。</p><p>不过，在C/C++工程中，并不推荐这种做法。
比较推荐的做法是，使用相对路径加参数<code>-I include_dir</code>的方法来引用头文件。
比如以上的例子中，我们会直接在源码中使用<code>#include"llvm/Pass.h"</code>，并且将llvm库的头文件所在目录，通过参数<code>-I /usr/local/opt/llvm/include</code>传递给<code>gcc</code>。
这样做能够灵活地管理第三方库版本，也便于不同机器下的多人协作开发，比直接包含绝对路径头文件要好很多。</p><p>总而言之，<code>gcc</code>在进行预处理时，会将库文件目录（如<code>-I</code>参数传递进来的目录，以及默认的<code>/usr/include</code>，<code>/usr/local/include</code>等目录），与程序源码中<code>#include"xxxx.h"</code>语句的<code>xxxx.h</code>进行组合拼接。
倘若某个组合，得到的路径存在实际的头文件，那么就会将该头文件包含进来。</p></blockquote><h4><code>-l</code>参数</h4><p>在GCC编译流程的链接阶段，会默认链接标准库，如<code>libc.a</code>，但是对于第三方库，就需要手动添加。
倘若在编译中报出如下的错误：
<code>Undefined symbols for architecture x86_64: xxx...xxx ld: symbol(s) not found for architecture x86_64</code>这一般是由<strong>未正确指定</strong>需要链接的第三方库导致的。</p><p>在使用<code>gcc</code>时，一般会选择使用<code>-l</code>参数来指定需要链接的库。
例如，假定我们使用了<code>math</code>库（即<code>#include&lt;math.c&gt;</code>），在进行编译时，便会报出如上的<code>Undefined</code>错误。
这时，我们可以使用<code>-lm</code>（或者<code>-l m</code>）参数来指定需要链接<code>math</code>库。</p><blockquote><p>注意，某些gcc编译器会把<code>math</code>库视为标准库进行自动链接。
这时我们需要加上<code>-nostdlib</code>参数，使其不自动链接标准库，才会报出如上的<code>Undefined</code>错误。</p></blockquote><p>初看<code>-lm</code>参数，可能会感觉有些诡异。
那么，<code>-l</code>参数具体是如何使用的呢？
<code>-l</code>参数后需要接<strong>库名</strong>（如<code>m</code>），而不是<strong>库文件名</strong>（如<code>libm.so</code>）。
但库名和库文件名之间，存在非常直观的联系。
以<code>math</code>库为例，其库文件名是<code>libm.so</code>，而库名是<code>m</code>。
从中很容易看出，库名就是把库文件名的前缀<code>lib</code>和后缀名<code>.so</code>去掉后得到的。
再比如说，LLVM包含的库文件<code>libLLVMCore.a</code>，其对应的库名就是<code>LLVMCore</code>，而链接它的参数为<code>-lLLVMCore</code>。</p><h4><code>-L</code>参数</h4><p>位于<code>/lib</code>，<code>/usr/lib</code>，<code>/usr/local/lib</code>等目录下的库文件，例如<code>libm.so</code>，在使用<code>-l</code>参数后，可以直接被链接。
但如果库文件不在这些目录里，只用<code>-l</code>参数，进行链接时仍会报错，<code>ld: library not found for -lxxx</code>。
这意味着链接程序<code>ld</code>在当前的库文件路径中，无法找到<code>libxxx.so</code>或<code>libxxx.a</code>。</p><p>这时，我们需要使用<code>-L</code>参数，将所要链接的库文件所在的路径告诉<code>gcc</code>。
<code>-L</code>参数后需要跟库文件所在的路径。
例如，在macOS下，使用Homebrew包管理器安装<code>llvm</code>，其对应的库文件位于<code>/usr/local/opt/llvm/lib</code>目录。
倘若我们需要使用库<code>LLVMCore</code>，即链接库文件<code>libLLVMCore.a</code>，除了添加<code>-lLLVMCore</code>参数外，还需要使用参数<code>-L/usr/local/opt/llvm/lib</code>，告诉<code>gcc</code>库文件所在的目录。</p><h4>其他编译参数</h4><p>除了以上的这些参数外，<code>gcc</code>还有一些其他的参数，也是比较重要的，在此分别简要介绍。</p><p><strong>A. 静态链接参数</strong></p><p>在前面讲库文件的时候，我们提到了<strong>静态链接库文件</strong>（<code>libxxx.a</code>）和<strong>动态链接库文件</strong>（<code>libxxx.so</code>）。
我们并未提及两者的区别。
其实，我们通过如下的方式简单进行理解。
<code>gcc</code>链接静态库文件，会将静态库文件中用到的部分，<strong>拷贝</strong>到生成的二进制程序中，从而导致生成的文件比较大；
而链接动态库文件，则不会进行拷贝，所以生成的二进制程序会比较小。
链接动态库文件的缺点是，在其他机器上运行该程序时，要求其上正确安装了对应的动态库文件。
相应的，链接静态库文件生成的程序，则没有这个要求。</p><p>在使用<code>gcc</code>进行链接时，<strong>默认优先</strong>使用动态链接库文件。
仅当动态链接库文件不存在时，才使用静态链接库文件。
如果需要使用静态链接的方式，则需要在编译时加上<code>-static</code>参数，强制使用静态链接库文件。
例如，在<code>/usr/local/opt/llvm/lib</code>目录下，同时存在库文件<code>libunwind.so</code>和<code>libunwind.a</code>。
为了让<code>gcc</code>在链接时使用静态链接库文件<code>libunwind.a</code>，我们可以添加<code>-static</code>参数，使用如下编译命令<code>gcc hello.o –static –L/usr/local/opt/llvm/lib –lunwind</code>。</p><p><strong>B. 优化参数</strong></p><p>编译优化也是编译器的重要功能，适当的编译优化能大大加速程序的执行效率。
<code>gcc</code>提供了4级优化参数，分别是<code>-O0</code>、<code>-O1</code>、<code>-O2</code>、<code>-O3</code>。
一般来说，数字越大，所包含的编译优化策略就越多。
此外，<code>gcc</code>还提供了特殊的<code>-Os</code>参数。</p><ul><li><code>-O0</code>参数表示不使用任何优化策略，是<code>gcc</code>默认的优化参数。
因为没有使用任何优化策略，编译得到的机器码与程序源码<strong>高度对应</strong>，两者之间基本可以建立一一对应的关系。所以，<code>-O0</code>优化非常适合用于程序调试，并且通常和生成调试信息的参数<code>-g</code>（<strong>g</strong>enerate debug information）配合使用。<code>-g</code>参数会在编译时给生成的二进制文件附加一些用于代码调试的信息，比如符号表和程序源码。</li><li><code>-O1</code>会尽量采用一些不影响编译速度的优化策略，<strong>降低</strong>生成的二进制文件的大小，以及<strong>提高</strong>程序执行的速度。</li><li><code>-O2</code>使用<code>-O1</code>中的所有优化策划，还会采用一些会<strong>降低</strong>编译速度的优化策略，以<strong>提高</strong>程序的执行速度。</li><li><code>-O3</code>在<code>-O2</code>的基础上，使用更多的优化策略。这些额外的优化策略会进一步<strong>降低</strong>编译速度，而且会<strong>增加</strong>生成的二进制文件的大小，但程序的执行速度则会进一步<strong>提高</strong>。</li><li><code>-Os</code>则和<code>-O3</code>优化的方向相反。它在<code>-O2</code>的基础上，采用额外的优化策略，尽量的<strong>降低</strong>生成的二进制文件的大小。</li></ul><p>倘若对各优化参数下，所开启的优化策略感兴趣，或者希望了解其他的优化参数，可以参考<a href="https://link.zhihu.com/?target=https%3A//gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">[1]</a>。</p><p><strong>C. 宏相关参数</strong></p><p>有时，为了保证C/C++项目的跨平台性，或者在编译时，能比较灵活地在多个相似的库中作出选择，需要在源码中使用<strong>条件编译</strong>。
条件编译即使用<code>#ifdef M</code>，<code>#else</code>，<code>#endif</code>（或<code>#ifndef M</code>，<code>#else</code>，<code>#endif</code>，以及<code>#if</code>，<code>#elif</code>，<code>#else</code>，<code>#endif</code>）等指令，通过<strong>宏定义</strong>来控制需要编译的代码。</p><p>C/C++语言中，可以使用<code>#define M</code>语句在源码中定义宏<code>M</code>。
但是条件编译一般需要从外界，如编译器，传入一个宏定义。
因此，<code>gcc</code>提供了宏定义参数<code>-D</code>以及取消宏定义参数<code>-U</code>。
在使用<code>gcc</code>进行编译时，可以通过如下的方式，来进行相应的宏操作：</p><ul><li><code>-Dmacro</code>定义宏<code>macro</code>，默认将其定义为<code>1</code>，相当于在程序源码中使用<code>#define macro</code>语句。</li><li><code>-Dmacro=def</code>定义宏<code>macro</code>为<code>def</code>，相当于在程序源码中使用<code>#define macro=def</code>语句。</li><li><code>-Umacro</code>取消宏<code>macro</code>的定义，相当于在程序源码中使用<code>#undef macro</code>语句。</li><li><code>-undef</code>取消所有非标准宏的定义。</li></ul><p><strong>D. 其他</strong></p><p>此外，还有一些其他的参数，也很重要，例如：</p><ul><li><code>-std</code>参数可以指定编译使用的C/C++标准。例如，<code>-std=c++11</code>表示使用C++11标准，<code>-std=c99</code>表示使用C99标准。特殊的，<code>-ansi</code>表示使用ANSI C标准，一般等同于<code>-std=c90</code>。</li><li><code>-Werror</code>参数要求<code>gcc</code>将产生的<strong>警告</strong>（Warning）当成<strong>错误</strong>（Error）进行显示。</li><li><code>-Wall</code>要求<code>gcc</code>显示出尽可能多的警告信息。</li><li><code>-w</code>要求<code>gcc</code>不显示警告信息。</li><li><code>-Wl</code>参数告诉<code>gcc</code>，将后面跟随的参数传递给链接器<code>ld</code>。</li><li><code>-v</code>参数可以显示<code>gcc</code>编译过程中一些额外输出信息。</li></ul><p>倘若希望了解<code>gcc</code>的其他参数，可以通过<code>gcc --help</code>或者<code>man gcc</code>查看，也可以直接参考<a href="https://link.zhihu.com/?target=https%3A//gcc.gnu.org/onlinedocs/10.1.0/" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">GCC手册[1]</a>。</p><h3>pkg-config</h3><p>一般来说，人工编辑第三方库的编译链接参数是比较麻烦的。
我们需要查找第三方库的头文件、库文件的安装路径，了解第三方库需要链接哪些其他的库，了解第三方库需要哪些编译参数等等。
这些都不利于第三方库的快速集成。
目前，很多现代的第三方库都提供了其对应的编译参数<strong>自动生成</strong>工具，一般名为<code>xxx-config</code>。
比如<code>llvm</code>就提供了<code>llvm-config</code>工具。
在使用系统包管理器，或者自行编译安装了<code>llvm</code>后，可以直接调用<code>llvm-config</code>命令。
我们以以<code>llvm 10.0</code>为例，进行说明。</p><ul><li>执行<code>llvm-config --cxxflags</code>，可以得到<code>-I/usr/local/Cellar/llvm/11.0.0/include -std=c++14 -stdlib=libc++ -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS</code>。
这是编译<code>llvm 10.0</code>提供的库，所需的编译参数。
它说明<code>llvm 10.0</code>的头文件目录是<code>/usr/local/Cellar/llvm/11.0.0/include</code>，并且要求使用C++14标准，使用C++标准库，还定义了一些编译时需要的宏。</li><li>执行<code>llvm-config --ldflags</code>，可以得到<code>-L/usr/local/Cellar/llvm/11.0.0/lib -Wl,-search_paths_first -Wl,-headerpad_max_install_names</code>。
这是链接<code>llvm 10.0</code>提供的第三方库所需要的链接参数。
它告诉编译器，第三方库的位置在<code>/usr/local/Cellar/llvm/11.0.0/lib</code>，并会传递一些其他的参数给链接器<code>ld</code>。</li><li>执行<code>llvm-config --libs</code>会得到<code>-lLLVMXRay -lLLVMWindowsManifest ... -lLLVMDemangle</code>。
这是<code>llvm 10.0</code>可以链接的全部库。
一般我们不会选择链接所有的库。
而是会使用形如以下的命令<code>llvm-config --libs core</code>，得到
<code>-lLLVMCore -lLLVMRemarks -lLLVMBitstreamReader -lLLVMBinaryFormat -lLLVMSupport -lLLVMDemangle</code>。
这是使用<code>core</code>模块所需要链接的库。</li><li>执行<code>llvm-config --system-libs</code>会得到<code>-lm -lz -lcurses -lxml2</code>。
这是<code>llvm 10.0</code>所需要用到的系统库。</li></ul><p>一般来说，我们会将以上命令的参数进行组合使用，例如调用<code>llvm-config --cxxflags --ldflags --system-libs --libs core</code>，就可以得到我们所需的全部编译参数。</p><p>除了第三方库自带的<code>xxx-config</code>以外，很多现代的第三方库都可以使用工具<code>pkg-config</code>来生成编译参数。
我们可以用<code>pkg-config --list-all</code>命令，来查看其所支持的所有第三方库。
<code>pkg-config</code>的一般使用方法是调用形如<code>pkg-config pkg-name --libs --cflags</code>的命令。
例如，倘若要使用gmp库，我们可以执行<code>pkg-config gmp --libs --cflags</code>，得到如下输出
<code>-I/usr/local/Cellar/gmp/6.2.1/include -L/usr/local/Cellar/gmp/6.2.1/lib -lgmp</code>。</p><blockquote><p>我们可以直接复制这些输出，再粘贴到<code>gcc</code>命令后，也可以使用形如"gcc a.c `pkg-config gmp --libs --cflags`"的命令，通过内嵌shell命令的方式，将第三方库的编译参数传递给<code>gcc</code>.</p></blockquote></div></div></div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19602791&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19602791" target="_blank"><div class="Popover"></div></a></span></div><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19641113&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19641113" target="_blank"><div class="Popover"></div></a></span></div><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19834837&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19834837" target="_blank"><div class="Popover"></div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-fixed is-bottom" style="width: 690px; bottom: 0px; left: 414.6px;"></div></div></article></div></main><div role="complementary"><div class="CornerButtons"></div></div></div></div><script id="js-clientConfig" type="text/json">{"host":"zhihu.com","protocol":"https:","wwwHost":"www.zhihu.com","videoHost":"video.zhihu.com","fetchRoot":{"www":"https:\u002F\u002Fwww.zhihu.com","api":"https:\u002F\u002Fapi.zhihu.com","lens":"https:\u002F\u002Flens.zhihu.com","zhuanlan":"https:\u002F\u002Fzhuanlan.zhihu.com","walletpay":"https:\u002F\u002Fwalletpay.zhihu.com","captcha":"https:\u002F\u002Fcaptcha.zhihu.com","vzuu":"https:\u002F\u002Fv.vzuu.com","openapi":"https:\u002F\u002Fopenapi.zhihu.com"}}</script><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{}},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false}},"club":{"tags":{},"admins":{"data":[]},"members":{"data":[]},"explore":{"candidateSyncClubs":{}},"profile":{},"checkin":{},"comments":{"paging":{},"loading":{},"meta":{},"ids":{}},"postList":{"paging":{},"loading":{},"ids":{}},"recommend":{"data":[]},"silences":{"data":[]},"application":{"profile":null}},"entities":{"users":{"64d62816490c4f521e7912d30d553a66":{"uid":951194926436839400,"userType":"people","id":"64d62816490c4f521e7912d30d553a66"},"yan-jing-ye-35":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-8339296040526585de901df4bef41e6d.jpg?source=172ae18b","uid":"1087274748836192256","userType":"people","isFollowing":false,"urlToken":"yan-jing-ye-35","id":"b1ea36542fd6c25ff7775b959eb4ca39","description":"","name":"FRONTIERS","isAdvertiser":false,"headline":"Formal了吗？","gender":-1,"url":"\u002Fpeople\u002Fb1ea36542fd6c25ff7775b959eb4ca39","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-8339296040526585de901df4bef41e6d_l.jpg?source=172ae18b","isOrg":false,"type":"people","levelInfo":{"exp":40137,"level":6,"nicknameColor":{"color":"","nightModeColor":""},"levelIcon":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4a3a25e3b2a871617ac0e3185a93dc14_l.png","iconInfo":{"url":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4a3a25e3b2a871617ac0e3185a93dc14_l.png","nightModeUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-92beb29b03851affbd2e8114805460cb_l.png","width":93,"height":51}},"badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"972477022068568064","medalName":"备受瞩目","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-d77a28a586dabb5f5274a8938c08443c_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-8e862afc82f0ab1ed13a9c3c6470abde_l.png?source=172ae18b","description":"被 500 个人关注"}}},"questions":{},"answers":{},"articles":{"342151242":{"trackUrl":["https:\u002F\u002Fsugar.zhihu.com\u002Fplutus_adreaper\u002Fcontent_monitor_log?si=__SESSIONID__&ti=__ATOKEN__&at=view&pf=__OS__&ed=BiBUKF0xBSkqGGNUBWB_AFx0C4Ni_kRHNY-p&idfa=__IDFA__&imei=__IMEI__&androidid=__ANDROIDID__&oaid=__OAID__&ci=__CREATIVEID__&zid=__ZONEID__"],"id":342151242,"title":"GCC\u002FMake\u002FCMake 之 GCC","type":"article","articleType":"normal","excerptTitle":"","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F342151242","imageUrl":"","titleImage":"","excerpt":"本系列教程将介绍 \u003Cstrong\u003E现代\u003C\u002Fstrong\u003EC\u002FC++项目的构建编译常用工具链，GCC，Make，以及CMake。 其中，GCC是C\u002FC++语言的编译工具，Make是增量式（编译）批处理工具，CMake是Make脚本生成工具。 在现代C\u002FC++项目的构建中，它们的关系如下。 cmake make gcc CMakelist.txt --…","created":1609860828,"updated":1609928184,"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-8339296040526585de901df4bef41e6d.jpg?source=172ae18b","uid":"1087274748836192256","userType":"people","isFollowing":false,"urlToken":"yan-jing-ye-35","id":"b1ea36542fd6c25ff7775b959eb4ca39","description":"","name":"FRONTIERS","isAdvertiser":false,"headline":"Formal了吗？","gender":-1,"url":"\u002Fpeople\u002Fb1ea36542fd6c25ff7775b959eb4ca39","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-8339296040526585de901df4bef41e6d_l.jpg?source=172ae18b","isOrg":false,"type":"people","levelInfo":{"exp":40137,"level":6,"nicknameColor":{"color":"","nightModeColor":""},"levelIcon":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4a3a25e3b2a871617ac0e3185a93dc14_l.png","iconInfo":{"url":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4a3a25e3b2a871617ac0e3185a93dc14_l.png","nightModeUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-92beb29b03851affbd2e8114805460cb_l.png","width":93,"height":51}},"badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"972477022068568064","medalName":"备受瞩目","avatarUrl":"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-d77a28a586dabb5f5274a8938c08443c_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-8e862afc82f0ab1ed13a9c3c6470abde_l.png?source=172ae18b","description":"被 500 个人关注"}},"commentPermission":"all","copyrightPermission":"need_review","state":"published","imageWidth":0,"imageHeight":0,"content":"\u003Cp\u003E本系列教程将介绍\u003Cstrong\u003E现代\u003C\u002Fstrong\u003EC\u002FC++项目的构建编译常用工具链，GCC，Make，以及CMake。\n其中，GCC是C\u002FC++语言的编译工具，Make是增量式（编译）批处理工具，CMake是Make脚本生成工具。\n在现代C\u002FC++项目的构建中，它们的关系如下。\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-C\"\u003E              \u003Cspan class=\"n\"\u003Ecmake\u003C\u002Fspan\u003E           \u003Cspan class=\"n\"\u003Emake\u003C\u002Fspan\u003E       \u003Cspan class=\"n\"\u003Egcc\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003ECMakelist\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etxt\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-----&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EMakefile\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E----&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003ECmds\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E---&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EBinary\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E开发者需要编写\u003Ccode\u003ECMakelist.txt\u003C\u002Fcode\u003E文件，来配置项目相关的CMake参数。\n通过运行\u003Ccode\u003Ecmake\u003C\u002Fcode\u003E命令，自动生成对应平台的Make工具自动构建脚本\u003Ccode\u003EMakefile\u003C\u002Fcode\u003E文件。\n当然，CMake也支持生成\u003Cstrong\u003E其他的\u003C\u002Fstrong\u003E构建工具的配置文件，比如Xcode的\u003Ccode\u003Exxxx.xcodeproj\u003C\u002Fcode\u003E，Visual Studio的\u003Ccode\u003Exxxx.sln\u003C\u002Fcode\u003E，Ninja的\u003Ccode\u003Exxxx.ninja\u003C\u002Fcode\u003E等等。\n目前，大多数开源的C\u002FC++项目都支持使用CMake生成\u003Ccode\u003EMakefile\u003C\u002Fcode\u003E文件，再调用\u003Ccode\u003Emake\u003C\u002Fcode\u003E命令，使用Make工具进行自动构建。\n\u003Ccode\u003EMakefile\u003C\u002Fcode\u003E文件可以看成是一系列\u003Cstrong\u003E依赖于文件\u003C\u002Fstrong\u003E的Shell命令。\n它基于文件修改的\u003Cstrong\u003E时间戳\u003C\u002Fstrong\u003E来实现增量式处理。\n具体规则大致如下，若生成的\u003Cstrong\u003E目标文件\u003C\u002Fstrong\u003E的时间戳早于\u003Cstrong\u003E依赖文件\u003C\u002Fstrong\u003E的时间戳时，则执行对应的命令，\u003Cstrong\u003E重新生成\u003C\u002Fstrong\u003E目标文件。\n这实际上暗示了，Make工具不只用于编译，还可以用于其他的\u003Cstrong\u003E增量式文件生成\u003C\u002Fstrong\u003E任务。\n使用Make工具来编译C\u002FC++项目时，一般会使用Shell命令来调用\u003Ccode\u003Egcc\u003C\u002Fcode\u003E，\u003Cstrong\u003E自动化\u003C\u002Fstrong\u003E且\u003Cstrong\u003E增量式\u003C\u002Fstrong\u003E地实现C\u002FC++源代码的编译链接等一系列工作。\u003C\u002Fp\u003E\u003Ch2\u003EGCC\u003C\u002Fh2\u003E\u003Cp\u003E在早期，GCC为\u003Cstrong\u003EGNU C Compiler\u003C\u002Fstrong\u003E的简写，即GNU计划中的C语言编译器。\n但经过多年的扩展和迭代，GCC逐渐支持C、C++、Objective-C、Fortran、Java、Ada和Go等越来越多语言的编译。\n因此，其GCC被重新定义为\u003Cstrong\u003EGNU Compiler Collection\u003C\u002Fstrong\u003E，即 GNU编译器套件。\n在本篇中，我们仅介绍使用GCC编译C\u002FC++项目。\u003C\u002Fp\u003E\u003Cblockquote\u003E\u003Cp\u003E值得注意的是，Apple公司曾经一直使用GCC作为官方的编译器。\n但是由于GCC开发社区对Apple所提的需求，给予的优先级始终不高，甚至很多Apple的重要需求基本不做考虑。\n于是，财大气粗的Apple一怒之下，决定放弃GCC，基于LLVM重新开发了编译工具Clang，支持 C、C++、Objective-C等语言。\n因此，目前macOS上自带的默认\u003Ccode\u003Egcc\u003C\u002Fcode\u003E命令，实际上调用的是\u003Ccode\u003Eclang\u003C\u002Fcode\u003E。\n希望在macOS上使用GCC，需要自行安装，如使用macOS上常用的包管理工具Homebrew，（\u003Ccode\u003Ebrew install gcc\u003C\u002Fcode\u003E）。\n比较幸运的一点事，\u003Ccode\u003Eclang\u003C\u002Fcode\u003E在使用上（调用方式，参数等方面），基本复刻了\u003Ccode\u003Egcc\u003C\u002Fcode\u003E。\n所以，在本篇中，笔者虽然讲GCC，但实际上给出的例子，都是使用的Clang，但基本上差异不大，不会导致太大的问题。\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003Ch3\u003E编译流程\u003C\u002Fh3\u003E\u003Cp\u003E使用\u003Ccode\u003Egcc\u003C\u002Fcode\u003E编译C\u002FC++程序时，主要的编译流程如下，包含\u003Cstrong\u003E预处理\u003C\u002Fstrong\u003E、\u003Cstrong\u003E编译\u003C\u002Fstrong\u003E、\u003Cstrong\u003E汇编\u003C\u002Fstrong\u003E、\u003Cstrong\u003E链接\u003C\u002Fstrong\u003E等四个步骤。\n以输入C语言程序源码文件\u003Ccode\u003Eb.c\u003C\u002Fcode\u003E为例，直接调用命令\u003Ccode\u003Egcc b.c\u003C\u002Fcode\u003E，将会\u003Cstrong\u003E完整执行\u003C\u002Fstrong\u003E以下流程，并生成对应的\u003Cstrong\u003E可执行\u003C\u002Fstrong\u003E的\u003Cstrong\u003E二进制\u003C\u002Fstrong\u003E文件\u003Ccode\u003Ea.out\u003C\u002Fcode\u003E。\n注意，这里\u003Ccode\u003Egcc\u003C\u002Fcode\u003E的默认输出就是固定的\u003Ccode\u003Ea.out\u003C\u002Fcode\u003E。\n在GCC工具链中，汇编由工具\u003Ccode\u003Eas\u003C\u002Fcode\u003E完成，链接则由工具\u003Ccode\u003Eld\u003C\u002Fcode\u003E完成。\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-C\"\u003E      \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EE\u003C\u002Fspan\u003E          \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ES\u003C\u002Fspan\u003E          \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ec\u003C\u002Fspan\u003E          \n\u003Cspan class=\"n\"\u003Eb\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ec\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E------&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eb\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E------&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eb\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Es\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E------&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eb\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eo\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E------&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ea\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eout\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Egcc\u003C\u002Fspan\u003E         \u003Cspan class=\"n\"\u003Egcc\u003C\u002Fspan\u003E         \u003Cspan class=\"n\"\u003Eas\u003C\u002Fspan\u003E          \u003Cspan class=\"n\"\u003Eld\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E对\u003Ccode\u003Egcc\u003C\u002Fcode\u003E使用以下指令，将会使其编译流程\u003Cstrong\u003E停止\u003C\u002Fstrong\u003E在对应位置：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Ccode\u003E-E\u003C\u002Fcode\u003E，（pr\u003Cstrong\u003EE\u003C\u002Fstrong\u003Eprocessing），执行到\u003Cstrong\u003E预处理\u003C\u002Fstrong\u003E步骤之后，即处理C\u002FC++源码中\u003Ccode\u003E#\u003C\u002Fcode\u003E开头的指令，包括\u003Cstrong\u003E宏展开\u003C\u002Fstrong\u003E以及\u003Ccode\u003E#include\u003C\u002Fcode\u003E\u003Cstrong\u003E头文件引入\u003C\u002Fstrong\u003E等等。\n该指令默认不输出文件，可以使用\u003Ccode\u003E-o\u003C\u002Fcode\u003E指令输出约定后缀为\u003Ccode\u003E*.i\u003C\u002Fcode\u003E的文件。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-S\u003C\u002Fcode\u003E，（a\u003Cstrong\u003ES\u003C\u002Fstrong\u003Esembly），执行到\u003Cstrong\u003E编译\u003C\u002Fstrong\u003E步骤之后，生成汇编文件，但不生成二进制机器码。\n该指令默认的输出文件后缀为\u003Ccode\u003E*.s\u003C\u002Fcode\u003E。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-c\u003C\u002Fcode\u003E，（\u003Cstrong\u003Ec\u003C\u002Fstrong\u003Eompilation），执行到\u003Cstrong\u003E汇编\u003C\u002Fstrong\u003E步骤之后，调用工具\u003Ccode\u003Eas\u003C\u002Fcode\u003E，从汇编码生成二进制机器码，但不进行链接。\n该指令默认的输出文件后缀为\u003Ccode\u003E*.o\u003C\u002Fcode\u003E（\u003Cstrong\u003Eo\u003C\u002Fstrong\u003Ebject）。\u003C\u002Fli\u003E\u003Cli\u003E不带以上参数调用\u003Ccode\u003Egcc\u003C\u002Fcode\u003E将会完整执行以上流程，即执行到到\u003Cstrong\u003E链接\u003C\u002Fstrong\u003E（linking）步骤之后。\n链接步骤实际上调用链接工具\u003Ccode\u003Eld\u003C\u002Fcode\u003E来执行，会将源码生成的二进制文件，库文件，以及程序的启动部分进行组合，从而形成一个完整的二进制可执行文件。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E特别的，使用指令\u003Ccode\u003E-o\u003C\u002Fcode\u003E，（\u003Cstrong\u003Eo\u003C\u002Fstrong\u003Eutput），可以指定输出文件的名称。\n例如\u003Ccode\u003Egcc b.c -o b.bin\u003C\u002Fcode\u003E，将生成可执行文件\u003Ccode\u003Eb.bin\u003C\u002Fcode\u003E，而不是默认的\u003Ccode\u003Ea.out\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cp\u003E以上指令都可以在编译流程任意环节的基础上进行调用，例如：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-shell\"\u003E&gt; gcc -E b.c -o b.i\n&gt; ls\nb.c b.i\n&gt; gcc -S b.i\nb.c b.i b.s\n&gt; gcc -c b.s\nb.c b.i b.o b.s\n&gt; gcc b.o\nb.c b.i b.o a.out b.s\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch3\u003E编译参数\u003C\u002Fh3\u003E\u003Cp\u003E对于一个实际的C\u002FC++项目而言，源文件一般不会只有一个，而且绝大多数情况下会使用到\u003Cstrong\u003E第三方库\u003C\u002Fstrong\u003E（Third-party Library）。\n由于C\u002FC++没有官方的\u003Cstrong\u003E包管理工具\u003C\u002Fstrong\u003E（Package Manager），如Python的\u003Ccode\u003Epip\u003C\u002Fcode\u003E，Java的\u003Ccode\u003Emaven\u003C\u002Fcode\u003E，Nodejs的\u003Ccode\u003Enpm\u003C\u002Fcode\u003E等等，\n所以，在C\u002FC++项目中使用第三方库时，一般使用系统自带的包管理器来进行第三方库的安装，例如Ubuntu下的\u003Ccode\u003Eapt-get\u003C\u002Fcode\u003E，macOS的\u003Ccode\u003Ebrew\u003C\u002Fcode\u003E（Homebrew）等等。\n同时，也可以选择自行获取第三方库的源码进行编译安装。\u003C\u002Fp\u003E\u003Cp\u003E第三方库主要由两个部分组成，即 a)\u003Cstrong\u003E头文件\u003C\u002Fstrong\u003E， b)\u003Cstrong\u003E库文件\u003C\u002Fstrong\u003E。\n头文件一般是一系列名为\u003Ccode\u003Exxx.h\u003C\u002Fcode\u003E（\u003Cstrong\u003Eh\u003C\u002Fstrong\u003Eead）的文件，相当于暴露出第三方库所提供的API接口（函数签名）。\n库文件一般会包含\u003Cstrong\u003E静态库文件\u003C\u002Fstrong\u003E和\u003Cstrong\u003E动态库文件\u003C\u002Fstrong\u003E，相当于第三方库在功能上的二进制实现。\n其中，静态库文件是一系列名为\u003Ccode\u003Elibxxx.a\u003C\u002Fcode\u003E（\u003Cstrong\u003Ea\u003C\u002Fstrong\u003Erchive）的文件（Windows下为\u003Ccode\u003Elibxxx.lib\u003C\u002Fcode\u003E，\u003Cstrong\u003Elib\u003C\u002Fstrong\u003Erary）。\n动态库文件则是一系列名为\u003Ccode\u003Elibxxx.so\u003C\u002Fcode\u003E（\u003Cstrong\u003Es\u003C\u002Fstrong\u003Ehared \u003Cstrong\u003Eo\u003C\u002Fstrong\u003Ebject）的文件（Windows下为\u003Ccode\u003Elibxxx.dll\u003C\u002Fcode\u003E，\u003Cstrong\u003Ed\u003C\u002Fstrong\u003Eynamic \u003Cstrong\u003El\u003C\u002Fstrong\u003Eink \u003Cstrong\u003El\u003C\u002Fstrong\u003Eibrary，macOS下为\u003Ccode\u003Elibxxx.dylib\u003C\u002Fcode\u003E，\u003Cstrong\u003Edy\u003C\u002Fstrong\u003Enamic \u003Cstrong\u003Elib\u003C\u002Fstrong\u003Erary）。\n系统自带的，以及由系统包管理器安装的第三方库，其头文件一般在\u003Ccode\u003E\u002Fusr\u002Finclude\u003C\u002Fcode\u003E或\u003Ccode\u003E\u002Fusr\u002Flocal\u002Finclude\u003C\u002Fcode\u003E路径下，库文件一般在\u003Ccode\u003E\u002Flib\u003C\u002Fcode\u003E，\u003Ccode\u003E\u002Fusr\u002Flib\u003C\u002Fcode\u003E和\u003Ccode\u003E\u002Fusr\u002Flocal\u002Flib\u003C\u002Fcode\u003E目录下。\u003C\u002Fp\u003E\u003Cp\u003E正是由于以上因素的影响，GCC工具链不负责管理第三方库，因此无法判定C\u002FC++项目具体需要使用哪些库，以及这些库的准确信息，如位置、版本等。\n所以，仅使用GCC，无法完全自动地解决C\u002FC++项目第三方库的依赖问题。\n我们需要人工地添加各种编译参数，如\u003Ccode\u003E-I\u003C\u002Fcode\u003E，\u003Ccode\u003E-l\u003C\u002Fcode\u003E以及\u003Ccode\u003E-L\u003C\u002Fcode\u003E，将所依赖的第三方库的相关信息，传递给\u003Ccode\u003Egcc\u003C\u002Fcode\u003E编译器。\n其中\u003Ccode\u003E-I\u003C\u002Fcode\u003E传递的是头文件所在的目录，\u003Ccode\u003E-l\u003C\u002Fcode\u003E传递的是需要链接的库的名称，\u003Ccode\u003E-L\u003C\u002Fcode\u003E传递的是库文件所在的目录。\u003C\u002Fp\u003E\u003Ch4\u003E\u003Ccode\u003E-I\u003C\u002Fcode\u003E参数\u003C\u002Fh4\u003E\u003Cp\u003E回顾之前所介绍的GCC编译流程，在\u003Cstrong\u003E预处理\u003C\u002Fstrong\u003E阶段需要处理\u003Ccode\u003E#include\u003C\u002Fcode\u003E指令，将包含的头文件替换进源码。\n一般来说，在进行预处理时，\u003Ccode\u003Egcc\u003C\u002Fcode\u003E会自动在当前工程目录下，以及\u003Ccode\u003E\u002Fusr\u002Finclude\u003C\u002Fcode\u003E目录下寻找对应的头文件。\u003C\u002Fp\u003E\u003Cp\u003E但对于位于其他目录下的第三方库的头文件，\u003Ccode\u003Egcc\u003C\u002Fcode\u003E无法自动寻找到所需头文件的位置，会报出形如\u003Ccode\u003Exxx.h: file not found\u003C\u002Fcode\u003E的错误。\n我们需要使用\u003Ccode\u003E-I\u003C\u002Fcode\u003E参数来指定第三方库头文件的位置。\n例如，在macOS下，使用Homebrew包管理器安装\u003Ccode\u003Ellvm\u003C\u002Fcode\u003E，会相应地安装LLVM项目所包含的第三方库，其对应的头文件位于\u003Ccode\u003E\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Finclude\u003C\u002Fcode\u003E目录。\u003C\u002Fp\u003E\n\u003Cp\u003E而我们在使用LLVM提供的库时，可以使用\u003Ccode\u003E-I\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Finclude\u003C\u002Fcode\u003E（或者\u003Ccode\u003E-I \u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Finclude\u003C\u002Fcode\u003E，加空格）来指定头文件所在的位置。\n从而，\u003Ccode\u003Egcc\u003C\u002Fcode\u003E会额外在\u003Ccode\u003E-I\u003C\u002Fcode\u003E参数指定的目录下搜索对应的头文件。\n\u003Ccode\u003E-I\u003C\u002Fcode\u003E参数可以\u003Cstrong\u003E重复多次\u003C\u002Fstrong\u003E使用，从而指定多个额外的头文件目录。\n\u003Ccode\u003E-I\u003C\u002Fcode\u003E参数一般指定\u003Cstrong\u003E绝对路径\u003C\u002Fstrong\u003E，但也可以用\u003Cstrong\u003E相对路径\u003C\u002Fstrong\u003E，比如头文件在当前目录，可以用\u003Ccode\u003E-I.\u003C\u002Fcode\u003E来指定。\u003C\u002Fp\u003E\u003Cblockquote\u003E\u003Cp\u003E需要注意的是，在C\u002FC++源码中，使用\u003Ccode\u003E#include&#34;xxxx.h&#34;\u003C\u002Fcode\u003E语句时，其中的\u003Ccode\u003Exxxx.h\u003C\u002Fcode\u003E可以带上路径。\n我们甚至可以使用绝对路径来引用头文件。\n比如说，存在头文件\u003Ccode\u003E\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Finclude\u002Fllvm\u002FPass.h\u003C\u002Fcode\u003E，我们在使用它时，可以直接通过这样的方式引用\u003Ccode\u003E#include&#34;\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Finclude\u002Fllvm\u002FPass.h&#34;\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cp\u003E不过，在C\u002FC++工程中，并不推荐这种做法。\n比较推荐的做法是，使用相对路径加参数\u003Ccode\u003E-I include_dir\u003C\u002Fcode\u003E的方法来引用头文件。\n比如以上的例子中，我们会直接在源码中使用\u003Ccode\u003E#include&#34;llvm\u002FPass.h&#34;\u003C\u002Fcode\u003E，并且将llvm库的头文件所在目录，通过参数\u003Ccode\u003E-I \u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Finclude\u003C\u002Fcode\u003E传递给\u003Ccode\u003Egcc\u003C\u002Fcode\u003E。\n这样做能够灵活地管理第三方库版本，也便于不同机器下的多人协作开发，比直接包含绝对路径头文件要好很多。\u003C\u002Fp\u003E\u003Cp\u003E总而言之，\u003Ccode\u003Egcc\u003C\u002Fcode\u003E在进行预处理时，会将库文件目录（如\u003Ccode\u003E-I\u003C\u002Fcode\u003E参数传递进来的目录，以及默认的\u003Ccode\u003E\u002Fusr\u002Finclude\u003C\u002Fcode\u003E，\u003Ccode\u003E\u002Fusr\u002Flocal\u002Finclude\u003C\u002Fcode\u003E等目录），与程序源码中\u003Ccode\u003E#include&#34;xxxx.h&#34;\u003C\u002Fcode\u003E语句的\u003Ccode\u003Exxxx.h\u003C\u002Fcode\u003E进行组合拼接。\n倘若某个组合，得到的路径存在实际的头文件，那么就会将该头文件包含进来。\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003Ch4\u003E\u003Ccode\u003E-l\u003C\u002Fcode\u003E参数\u003C\u002Fh4\u003E\u003Cp\u003E在GCC编译流程的链接阶段，会默认链接标准库，如\u003Ccode\u003Elibc.a\u003C\u002Fcode\u003E，但是对于第三方库，就需要手动添加。\n倘若在编译中报出如下的错误：\n\u003Ccode\u003EUndefined symbols for architecture x86_64: xxx...xxx ld: symbol(s) not found for architecture x86_64\u003C\u002Fcode\u003E这一般是由\u003Cstrong\u003E未正确指定\u003C\u002Fstrong\u003E需要链接的第三方库导致的。\u003C\u002Fp\u003E\u003Cp\u003E在使用\u003Ccode\u003Egcc\u003C\u002Fcode\u003E时，一般会选择使用\u003Ccode\u003E-l\u003C\u002Fcode\u003E参数来指定需要链接的库。\n例如，假定我们使用了\u003Ccode\u003Emath\u003C\u002Fcode\u003E库（即\u003Ccode\u003E#include&lt;math.c&gt;\u003C\u002Fcode\u003E），在进行编译时，便会报出如上的\u003Ccode\u003EUndefined\u003C\u002Fcode\u003E错误。\n这时，我们可以使用\u003Ccode\u003E-lm\u003C\u002Fcode\u003E（或者\u003Ccode\u003E-l m\u003C\u002Fcode\u003E）参数来指定需要链接\u003Ccode\u003Emath\u003C\u002Fcode\u003E库。\u003C\u002Fp\u003E\u003Cblockquote\u003E\u003Cp\u003E注意，某些gcc编译器会把\u003Ccode\u003Emath\u003C\u002Fcode\u003E库视为标准库进行自动链接。\n这时我们需要加上\u003Ccode\u003E-nostdlib\u003C\u002Fcode\u003E参数，使其不自动链接标准库，才会报出如上的\u003Ccode\u003EUndefined\u003C\u002Fcode\u003E错误。\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003Cp\u003E初看\u003Ccode\u003E-lm\u003C\u002Fcode\u003E参数，可能会感觉有些诡异。\n那么，\u003Ccode\u003E-l\u003C\u002Fcode\u003E参数具体是如何使用的呢？\n\u003Ccode\u003E-l\u003C\u002Fcode\u003E参数后需要接\u003Cstrong\u003E库名\u003C\u002Fstrong\u003E（如\u003Ccode\u003Em\u003C\u002Fcode\u003E），而不是\u003Cstrong\u003E库文件名\u003C\u002Fstrong\u003E（如\u003Ccode\u003Elibm.so\u003C\u002Fcode\u003E）。\n但库名和库文件名之间，存在非常直观的联系。\n以\u003Ccode\u003Emath\u003C\u002Fcode\u003E库为例，其库文件名是\u003Ccode\u003Elibm.so\u003C\u002Fcode\u003E，而库名是\u003Ccode\u003Em\u003C\u002Fcode\u003E。\n从中很容易看出，库名就是把库文件名的前缀\u003Ccode\u003Elib\u003C\u002Fcode\u003E和后缀名\u003Ccode\u003E.so\u003C\u002Fcode\u003E去掉后得到的。\n再比如说，LLVM包含的库文件\u003Ccode\u003ElibLLVMCore.a\u003C\u002Fcode\u003E，其对应的库名就是\u003Ccode\u003ELLVMCore\u003C\u002Fcode\u003E，而链接它的参数为\u003Ccode\u003E-lLLVMCore\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Ch4\u003E\u003Ccode\u003E-L\u003C\u002Fcode\u003E参数\u003C\u002Fh4\u003E\u003Cp\u003E位于\u003Ccode\u003E\u002Flib\u003C\u002Fcode\u003E，\u003Ccode\u003E\u002Fusr\u002Flib\u003C\u002Fcode\u003E，\u003Ccode\u003E\u002Fusr\u002Flocal\u002Flib\u003C\u002Fcode\u003E等目录下的库文件，例如\u003Ccode\u003Elibm.so\u003C\u002Fcode\u003E，在使用\u003Ccode\u003E-l\u003C\u002Fcode\u003E参数后，可以直接被链接。\n但如果库文件不在这些目录里，只用\u003Ccode\u003E-l\u003C\u002Fcode\u003E参数，进行链接时仍会报错，\u003Ccode\u003Eld: library not found for -lxxx\u003C\u002Fcode\u003E。\n这意味着链接程序\u003Ccode\u003Eld\u003C\u002Fcode\u003E在当前的库文件路径中，无法找到\u003Ccode\u003Elibxxx.so\u003C\u002Fcode\u003E或\u003Ccode\u003Elibxxx.a\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cp\u003E这时，我们需要使用\u003Ccode\u003E-L\u003C\u002Fcode\u003E参数，将所要链接的库文件所在的路径告诉\u003Ccode\u003Egcc\u003C\u002Fcode\u003E。\n\u003Ccode\u003E-L\u003C\u002Fcode\u003E参数后需要跟库文件所在的路径。\n例如，在macOS下，使用Homebrew包管理器安装\u003Ccode\u003Ellvm\u003C\u002Fcode\u003E，其对应的库文件位于\u003Ccode\u003E\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Flib\u003C\u002Fcode\u003E目录。\n倘若我们需要使用库\u003Ccode\u003ELLVMCore\u003C\u002Fcode\u003E，即链接库文件\u003Ccode\u003ElibLLVMCore.a\u003C\u002Fcode\u003E，除了添加\u003Ccode\u003E-lLLVMCore\u003C\u002Fcode\u003E参数外，还需要使用参数\u003Ccode\u003E-L\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Flib\u003C\u002Fcode\u003E，告诉\u003Ccode\u003Egcc\u003C\u002Fcode\u003E库文件所在的目录。\u003C\u002Fp\u003E\u003Ch4\u003E其他编译参数\u003C\u002Fh4\u003E\u003Cp\u003E除了以上的这些参数外，\u003Ccode\u003Egcc\u003C\u002Fcode\u003E还有一些其他的参数，也是比较重要的，在此分别简要介绍。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EA. 静态链接参数\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E在前面讲库文件的时候，我们提到了\u003Cstrong\u003E静态链接库文件\u003C\u002Fstrong\u003E（\u003Ccode\u003Elibxxx.a\u003C\u002Fcode\u003E）和\u003Cstrong\u003E动态链接库文件\u003C\u002Fstrong\u003E（\u003Ccode\u003Elibxxx.so\u003C\u002Fcode\u003E）。\n我们并未提及两者的区别。\n其实，我们通过如下的方式简单进行理解。\n\u003Ccode\u003Egcc\u003C\u002Fcode\u003E链接静态库文件，会将静态库文件中用到的部分，\u003Cstrong\u003E拷贝\u003C\u002Fstrong\u003E到生成的二进制程序中，从而导致生成的文件比较大；\n而链接动态库文件，则不会进行拷贝，所以生成的二进制程序会比较小。\n链接动态库文件的缺点是，在其他机器上运行该程序时，要求其上正确安装了对应的动态库文件。\n相应的，链接静态库文件生成的程序，则没有这个要求。\u003C\u002Fp\u003E\u003Cp\u003E在使用\u003Ccode\u003Egcc\u003C\u002Fcode\u003E进行链接时，\u003Cstrong\u003E默认优先\u003C\u002Fstrong\u003E使用动态链接库文件。\n仅当动态链接库文件不存在时，才使用静态链接库文件。\n如果需要使用静态链接的方式，则需要在编译时加上\u003Ccode\u003E-static\u003C\u002Fcode\u003E参数，强制使用静态链接库文件。\n例如，在\u003Ccode\u003E\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Flib\u003C\u002Fcode\u003E目录下，同时存在库文件\u003Ccode\u003Elibunwind.so\u003C\u002Fcode\u003E和\u003Ccode\u003Elibunwind.a\u003C\u002Fcode\u003E。\n为了让\u003Ccode\u003Egcc\u003C\u002Fcode\u003E在链接时使用静态链接库文件\u003Ccode\u003Elibunwind.a\u003C\u002Fcode\u003E，我们可以添加\u003Ccode\u003E-static\u003C\u002Fcode\u003E参数，使用如下编译命令\u003Ccode\u003Egcc hello.o –static –L\u002Fusr\u002Flocal\u002Fopt\u002Fllvm\u002Flib –lunwind\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EB. 优化参数\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E编译优化也是编译器的重要功能，适当的编译优化能大大加速程序的执行效率。\n\u003Ccode\u003Egcc\u003C\u002Fcode\u003E提供了4级优化参数，分别是\u003Ccode\u003E-O0\u003C\u002Fcode\u003E、\u003Ccode\u003E-O1\u003C\u002Fcode\u003E、\u003Ccode\u003E-O2\u003C\u002Fcode\u003E、\u003Ccode\u003E-O3\u003C\u002Fcode\u003E。\n一般来说，数字越大，所包含的编译优化策略就越多。\n此外，\u003Ccode\u003Egcc\u003C\u002Fcode\u003E还提供了特殊的\u003Ccode\u003E-Os\u003C\u002Fcode\u003E参数。\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Ccode\u003E-O0\u003C\u002Fcode\u003E参数表示不使用任何优化策略，是\u003Ccode\u003Egcc\u003C\u002Fcode\u003E默认的优化参数。\n因为没有使用任何优化策略，编译得到的机器码与程序源码\u003Cstrong\u003E高度对应\u003C\u002Fstrong\u003E，两者之间基本可以建立一一对应的关系。所以，\u003Ccode\u003E-O0\u003C\u002Fcode\u003E优化非常适合用于程序调试，并且通常和生成调试信息的参数\u003Ccode\u003E-g\u003C\u002Fcode\u003E（\u003Cstrong\u003Eg\u003C\u002Fstrong\u003Eenerate debug information）配合使用。\u003Ccode\u003E-g\u003C\u002Fcode\u003E参数会在编译时给生成的二进制文件附加一些用于代码调试的信息，比如符号表和程序源码。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-O1\u003C\u002Fcode\u003E会尽量采用一些不影响编译速度的优化策略，\u003Cstrong\u003E降低\u003C\u002Fstrong\u003E生成的二进制文件的大小，以及\u003Cstrong\u003E提高\u003C\u002Fstrong\u003E程序执行的速度。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-O2\u003C\u002Fcode\u003E使用\u003Ccode\u003E-O1\u003C\u002Fcode\u003E中的所有优化策划，还会采用一些会\u003Cstrong\u003E降低\u003C\u002Fstrong\u003E编译速度的优化策略，以\u003Cstrong\u003E提高\u003C\u002Fstrong\u003E程序的执行速度。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-O3\u003C\u002Fcode\u003E在\u003Ccode\u003E-O2\u003C\u002Fcode\u003E的基础上，使用更多的优化策略。这些额外的优化策略会进一步\u003Cstrong\u003E降低\u003C\u002Fstrong\u003E编译速度，而且会\u003Cstrong\u003E增加\u003C\u002Fstrong\u003E生成的二进制文件的大小，但程序的执行速度则会进一步\u003Cstrong\u003E提高\u003C\u002Fstrong\u003E。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-Os\u003C\u002Fcode\u003E则和\u003Ccode\u003E-O3\u003C\u002Fcode\u003E优化的方向相反。它在\u003Ccode\u003E-O2\u003C\u002Fcode\u003E的基础上，采用额外的优化策略，尽量的\u003Cstrong\u003E降低\u003C\u002Fstrong\u003E生成的二进制文件的大小。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E倘若对各优化参数下，所开启的优化策略感兴趣，或者希望了解其他的优化参数，可以参考\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgcc.gnu.org\u002Fonlinedocs\u002Fgcc\u002FOptimize-Options.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E[1]\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EC. 宏相关参数\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E有时，为了保证C\u002FC++项目的跨平台性，或者在编译时，能比较灵活地在多个相似的库中作出选择，需要在源码中使用\u003Cstrong\u003E条件编译\u003C\u002Fstrong\u003E。\n条件编译即使用\u003Ccode\u003E#ifdef M\u003C\u002Fcode\u003E，\u003Ccode\u003E#else\u003C\u002Fcode\u003E，\u003Ccode\u003E#endif\u003C\u002Fcode\u003E（或\u003Ccode\u003E#ifndef M\u003C\u002Fcode\u003E，\u003Ccode\u003E#else\u003C\u002Fcode\u003E，\u003Ccode\u003E#endif\u003C\u002Fcode\u003E，以及\u003Ccode\u003E#if\u003C\u002Fcode\u003E，\u003Ccode\u003E#elif\u003C\u002Fcode\u003E，\u003Ccode\u003E#else\u003C\u002Fcode\u003E，\u003Ccode\u003E#endif\u003C\u002Fcode\u003E）等指令，通过\u003Cstrong\u003E宏定义\u003C\u002Fstrong\u003E来控制需要编译的代码。\u003C\u002Fp\u003E\u003Cp\u003EC\u002FC++语言中，可以使用\u003Ccode\u003E#define M\u003C\u002Fcode\u003E语句在源码中定义宏\u003Ccode\u003EM\u003C\u002Fcode\u003E。\n但是条件编译一般需要从外界，如编译器，传入一个宏定义。\n因此，\u003Ccode\u003Egcc\u003C\u002Fcode\u003E提供了宏定义参数\u003Ccode\u003E-D\u003C\u002Fcode\u003E以及取消宏定义参数\u003Ccode\u003E-U\u003C\u002Fcode\u003E。\n在使用\u003Ccode\u003Egcc\u003C\u002Fcode\u003E进行编译时，可以通过如下的方式，来进行相应的宏操作：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Ccode\u003E-Dmacro\u003C\u002Fcode\u003E定义宏\u003Ccode\u003Emacro\u003C\u002Fcode\u003E，默认将其定义为\u003Ccode\u003E1\u003C\u002Fcode\u003E，相当于在程序源码中使用\u003Ccode\u003E#define macro\u003C\u002Fcode\u003E语句。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-Dmacro=def\u003C\u002Fcode\u003E定义宏\u003Ccode\u003Emacro\u003C\u002Fcode\u003E为\u003Ccode\u003Edef\u003C\u002Fcode\u003E，相当于在程序源码中使用\u003Ccode\u003E#define macro=def\u003C\u002Fcode\u003E语句。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-Umacro\u003C\u002Fcode\u003E取消宏\u003Ccode\u003Emacro\u003C\u002Fcode\u003E的定义，相当于在程序源码中使用\u003Ccode\u003E#undef macro\u003C\u002Fcode\u003E语句。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-undef\u003C\u002Fcode\u003E取消所有非标准宏的定义。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E\u003Cstrong\u003ED. 其他\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E此外，还有一些其他的参数，也很重要，例如：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Ccode\u003E-std\u003C\u002Fcode\u003E参数可以指定编译使用的C\u002FC++标准。例如，\u003Ccode\u003E-std=c++11\u003C\u002Fcode\u003E表示使用C++11标准，\u003Ccode\u003E-std=c99\u003C\u002Fcode\u003E表示使用C99标准。特殊的，\u003Ccode\u003E-ansi\u003C\u002Fcode\u003E表示使用ANSI C标准，一般等同于\u003Ccode\u003E-std=c90\u003C\u002Fcode\u003E。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-Werror\u003C\u002Fcode\u003E参数要求\u003Ccode\u003Egcc\u003C\u002Fcode\u003E将产生的\u003Cstrong\u003E警告\u003C\u002Fstrong\u003E（Warning）当成\u003Cstrong\u003E错误\u003C\u002Fstrong\u003E（Error）进行显示。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-Wall\u003C\u002Fcode\u003E要求\u003Ccode\u003Egcc\u003C\u002Fcode\u003E显示出尽可能多的警告信息。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-w\u003C\u002Fcode\u003E要求\u003Ccode\u003Egcc\u003C\u002Fcode\u003E不显示警告信息。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-Wl\u003C\u002Fcode\u003E参数告诉\u003Ccode\u003Egcc\u003C\u002Fcode\u003E，将后面跟随的参数传递给链接器\u003Ccode\u003Eld\u003C\u002Fcode\u003E。\u003C\u002Fli\u003E\u003Cli\u003E\u003Ccode\u003E-v\u003C\u002Fcode\u003E参数可以显示\u003Ccode\u003Egcc\u003C\u002Fcode\u003E编译过程中一些额外输出信息。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E倘若希望了解\u003Ccode\u003Egcc\u003C\u002Fcode\u003E的其他参数，可以通过\u003Ccode\u003Egcc --help\u003C\u002Fcode\u003E或者\u003Ccode\u003Eman gcc\u003C\u002Fcode\u003E查看，也可以直接参考\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgcc.gnu.org\u002Fonlinedocs\u002F10.1.0\u002F\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EGCC手册[1]\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\u003Ch3\u003Epkg-config\u003C\u002Fh3\u003E\u003Cp\u003E一般来说，人工编辑第三方库的编译链接参数是比较麻烦的。\n我们需要查找第三方库的头文件、库文件的安装路径，了解第三方库需要链接哪些其他的库，了解第三方库需要哪些编译参数等等。\n这些都不利于第三方库的快速集成。\n目前，很多现代的第三方库都提供了其对应的编译参数\u003Cstrong\u003E自动生成\u003C\u002Fstrong\u003E工具，一般名为\u003Ccode\u003Exxx-config\u003C\u002Fcode\u003E。\n比如\u003Ccode\u003Ellvm\u003C\u002Fcode\u003E就提供了\u003Ccode\u003Ellvm-config\u003C\u002Fcode\u003E工具。\n在使用系统包管理器，或者自行编译安装了\u003Ccode\u003Ellvm\u003C\u002Fcode\u003E后，可以直接调用\u003Ccode\u003Ellvm-config\u003C\u002Fcode\u003E命令。\n我们以以\u003Ccode\u003Ellvm 10.0\u003C\u002Fcode\u003E为例，进行说明。\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E执行\u003Ccode\u003Ellvm-config --cxxflags\u003C\u002Fcode\u003E，可以得到\u003Ccode\u003E-I\u002Fusr\u002Flocal\u002FCellar\u002Fllvm\u002F11.0.0\u002Finclude -std=c++14 -stdlib=libc++ -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS\u003C\u002Fcode\u003E。\n这是编译\u003Ccode\u003Ellvm 10.0\u003C\u002Fcode\u003E提供的库，所需的编译参数。\n它说明\u003Ccode\u003Ellvm 10.0\u003C\u002Fcode\u003E的头文件目录是\u003Ccode\u003E\u002Fusr\u002Flocal\u002FCellar\u002Fllvm\u002F11.0.0\u002Finclude\u003C\u002Fcode\u003E，并且要求使用C++14标准，使用C++标准库，还定义了一些编译时需要的宏。\u003C\u002Fli\u003E\u003Cli\u003E执行\u003Ccode\u003Ellvm-config --ldflags\u003C\u002Fcode\u003E，可以得到\u003Ccode\u003E-L\u002Fusr\u002Flocal\u002FCellar\u002Fllvm\u002F11.0.0\u002Flib -Wl,-search_paths_first -Wl,-headerpad_max_install_names\u003C\u002Fcode\u003E。\n这是链接\u003Ccode\u003Ellvm 10.0\u003C\u002Fcode\u003E提供的第三方库所需要的链接参数。\n它告诉编译器，第三方库的位置在\u003Ccode\u003E\u002Fusr\u002Flocal\u002FCellar\u002Fllvm\u002F11.0.0\u002Flib\u003C\u002Fcode\u003E，并会传递一些其他的参数给链接器\u003Ccode\u003Eld\u003C\u002Fcode\u003E。\u003C\u002Fli\u003E\u003Cli\u003E执行\u003Ccode\u003Ellvm-config --libs\u003C\u002Fcode\u003E会得到\u003Ccode\u003E-lLLVMXRay -lLLVMWindowsManifest ... -lLLVMDemangle\u003C\u002Fcode\u003E。\n这是\u003Ccode\u003Ellvm 10.0\u003C\u002Fcode\u003E可以链接的全部库。\n一般我们不会选择链接所有的库。\n而是会使用形如以下的命令\u003Ccode\u003Ellvm-config --libs core\u003C\u002Fcode\u003E，得到\n\u003Ccode\u003E-lLLVMCore -lLLVMRemarks -lLLVMBitstreamReader -lLLVMBinaryFormat -lLLVMSupport -lLLVMDemangle\u003C\u002Fcode\u003E。\n这是使用\u003Ccode\u003Ecore\u003C\u002Fcode\u003E模块所需要链接的库。\u003C\u002Fli\u003E\u003Cli\u003E执行\u003Ccode\u003Ellvm-config --system-libs\u003C\u002Fcode\u003E会得到\u003Ccode\u003E-lm -lz -lcurses -lxml2\u003C\u002Fcode\u003E。\n这是\u003Ccode\u003Ellvm 10.0\u003C\u002Fcode\u003E所需要用到的系统库。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003E一般来说，我们会将以上命令的参数进行组合使用，例如调用\u003Ccode\u003Ellvm-config --cxxflags --ldflags --system-libs --libs core\u003C\u002Fcode\u003E，就可以得到我们所需的全部编译参数。\u003C\u002Fp\u003E\u003Cp\u003E除了第三方库自带的\u003Ccode\u003Exxx-config\u003C\u002Fcode\u003E以外，很多现代的第三方库都可以使用工具\u003Ccode\u003Epkg-config\u003C\u002Fcode\u003E来生成编译参数。\n我们可以用\u003Ccode\u003Epkg-config --list-all\u003C\u002Fcode\u003E命令，来查看其所支持的所有第三方库。\n\u003Ccode\u003Epkg-config\u003C\u002Fcode\u003E的一般使用方法是调用形如\u003Ccode\u003Epkg-config pkg-name --libs --cflags\u003C\u002Fcode\u003E的命令。\n例如，倘若要使用gmp库，我们可以执行\u003Ccode\u003Epkg-config gmp --libs --cflags\u003C\u002Fcode\u003E，得到如下输出\n\u003Ccode\u003E-I\u002Fusr\u002Flocal\u002FCellar\u002Fgmp\u002F6.2.1\u002Finclude -L\u002Fusr\u002Flocal\u002FCellar\u002Fgmp\u002F6.2.1\u002Flib -lgmp\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cblockquote\u003E\u003Cp\u003E我们可以直接复制这些输出，再粘贴到\u003Ccode\u003Egcc\u003C\u002Fcode\u003E命令后，也可以使用形如&#34;gcc a.c `pkg-config gmp --libs --cflags`&#34;的命令，通过内嵌shell命令的方式，将第三方库的编译参数传递给\u003Ccode\u003Egcc\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003Ch2\u003EReferences\u003C\u002Fh2\u003E\u003Cblockquote\u003E\u003Cp\u003E[1] Using the GNU Compiler Collection (GCC), 3.11 Options That Control Optimization, \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgcc.gnu.org\u002Fonlinedocs\u002Fgcc\u002FOptimize-Options.html\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Egcc.gnu.org\u002Fonlinedocs\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Egcc\u002FOptimize-Options.html\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E[2] GCC 10.1 Manuals, \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgcc.gnu.org\u002Fonlinedocs\u002F10.1.0\u002F\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Egcc.gnu.org\u002Fonlinedocs\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E10.1.0\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E[3] 本篇的某些段落，借鉴和参考了网络上的博客资料，但实在难以溯源，故未列为参考。先在此表示感谢！如有侵权，请联系我删除。\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E","adminClosedComment":false,"topics":[{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19602791","type":"topic","id":"19602791","name":"GCC"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19641113","type":"topic","id":"19641113","name":"make"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19834837","type":"topic","id":"19834837","name":"CMake"}],"voteupCount":584,"voting":0,"heavyUpStatus":"allow_heavy_up","commentCount":22,"contributions":[],"isTitleImageFullScreen":false,"upvotedFollowees":[],"commercialInfo":{"isCommercial":false,"plugin":{}},"suggestEdit":{"status":false,"reason":"","tip":"","url":"","title":""},"reason":"","annotationAction":[],"canTip":false,"tipjarorsCount":0,"isLabeled":false,"hasPublishingDraft":false,"isFavorited":false,"favlistsCount":1453,"isNormal":true,"status":0,"shareText":"GCC\u002FMake\u002FCMake 之 GCC - 来自知乎专栏，作者: FRONTIERS https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F342151242 （想看更多？下载 @知乎 App：http:\u002F\u002Fweibo.com\u002Fp\u002F100404711598 ）","canComment":{"status":true,"reason":""},"mcnFpShow":-1,"isVisible":true,"isLiked":false,"likedCount":150,"hasColumn":false,"republishers":[],"isNewLinkCard":true,"emojiReaction":{"cryFaceCount":0,"cryFaceHasSet":false,"hugCount":0,"hugHasSet":false,"likeCount":150,"likeHasSet":false,"onlookerCount":0,"onlookerHasSet":false},"attachedInfo":"kgIkCgkxNjQxNjMxMjASCTM0MjE1MTI0MhgHIgpJTUFHRV9URVhU","shareGuide":{"hasPositiveBubble":false,"hasTimeBubble":false},"settings":{"tableOfContents":{"enabled":false}}}},"columns":{},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"promotions":{},"drafts":{},"chats":{},"posts":{},"clubs":{},"clubTags":{},"zvideos":{},"zvideoContributions":{}},"currentUser":"64d62816490c4f521e7912d30d553a66","account":{"lockLevel":{},"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false},"cardUserInfo":{"vipInfo":{}},"handleWidget":{},"widgetList":[],"userWidgetId":""},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"zvideosByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{},"creationsFeed":{},"infinity":{},"batchUsers":{},"profileInfinity":null},"env":{"ab":{"config":{"experiments":[{"expId":"launch-li_video-3","expPrefix":"li_video","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-qa_art2qa_new-3","expPrefix":"qa_art2qa_new","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-qa_cl_guest-2","expPrefix":"qa_cl_guest","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-se_item-3","expPrefix":"se_item","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-tp_zrec-8","expPrefix":"tp_zrec","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-us_adjust_new-11","expPrefix":"us_adjust_new","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-us_noti_count-8","expPrefix":"us_noti_count","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_andplay_d-2","expPrefix":"vd_andplay_d","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_hookupplay_an-2","expPrefix":"vd_hookupplay_an","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_ios_play-10","expPrefix":"vd_ios_play","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_timeguide-2","expPrefix":"vd_timeguide","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_video_replay-3","expPrefix":"vd_video_replay","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vd_zvideo_link-10","expPrefix":"vd_zvideo_link","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-zanswer-2","expPrefix":"zanswer","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-edu_cd1-3","expPrefix":"edu_cd1","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-vdox_cmt-2","expPrefix":"vdox_cmt","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-hwtj_bottom_btn-4","expPrefix":"hwtj_bottom_btn","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-km_detail_knn-2","expPrefix":"km_detail_knn","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"launch-recnew_2th-3","expPrefix":"recnew_2th","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_meta_ss-4","expPrefix":"se_meta_ss","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"qa_cdzixun-1","expPrefix":"qa_cdzixun","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"qa_recmessa-3","expPrefix":"qa_recmessa","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"vd_vserial-1","expPrefix":"vd_vserial","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"vd_video_tab-9","expPrefix":"vd_video_tab","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"tp_content-1","expPrefix":"tp_content","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"gw_qrlogin-3","expPrefix":"gw_qrlogin","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"rec_expslotpaid-4","expPrefix":"rec_expslotpaid","isDynamicallyUpdated":true,"isRuntime":false,"includeTriggerInfo":false},{"expId":"office_xp-2_v2","expPrefix":"office_xp","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"xuanpinab-1_v4","expPrefix":"xuanpinab","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"editor-2_v5","expPrefix":"editor","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"pc_editorplugin-2_v10","expPrefix":"pc_editorplugin","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"use_bff_profit-1_v7","expPrefix":"use_bff_profit","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"userlinkv2-2_v9","expPrefix":"userlinkv2","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"new_ques_rec-4_v2","expPrefix":"new_ques_rec","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"PC_login-3_v6","expPrefix":"PC_login","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"web_richcontent-2_v6","expPrefix":"web_richcontent","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"PCplayingspeed-1_v2","expPrefix":"PCplayingspeed","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"meta_ebook-2_v2","expPrefix":"meta_ebook","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"webpImg-2_v3","expPrefix":"webpImg","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"ffzix_xgdzwz-2_v1","expPrefix":"ffzix_xgdzwz","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"explore_fl_pic-2_v1","expPrefix":"explore_fl_pic","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"rec_new2th-2_v4","expPrefix":"rec_new2th","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"hw_aa_30-2_v2","expPrefix":"hw_aa_30","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"hw_aa_50-1_v1","expPrefix":"hw_aa_50","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"ad_com_zhi-2_v3","expPrefix":"ad_com_zhi","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"test_3-2_v2","expPrefix":"test_3","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"book_kpwz-3_v2","expPrefix":"book_kpwz","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"rec_3th-3_v3","expPrefix":"rec_3th","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"account_sdk-2_v20","expPrefix":"account_sdk","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_guess_hot-3_v5","expPrefix":"se_guess_hot","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"explore_newbee-2_v2","expPrefix":"explore_newbee","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_v_new_table-4_v5","expPrefix":"se_v_new_table","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_scholar_tab-3_v2","expPrefix":"se_scholar_tab","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_proxi2-9_v4","expPrefix":"se_proxi2","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_financial-4_v16","expPrefix":"se_financial","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_edu-3_v4","expPrefix":"se_edu","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"i_choosy-2_v11","expPrefix":"i_choosy","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"a_choosy-2_v5","expPrefix":"a_choosy","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"haowushangpin-2_v1","expPrefix":"haowushangpin","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_rel_boost-7_v9","expPrefix":"se_rel_boost","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"share_content-4_v3","expPrefix":"share_content","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_aihuida-4_v4","expPrefix":"se_aihuida","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_videobox-1_v1","expPrefix":"se_videobox","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"official_info-2_v2","expPrefix":"official_info","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"explore_b-3_v2","expPrefix":"explore_b","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_title_bst-1_v8","expPrefix":"se_title_bst","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_lingxi-3_v1","expPrefix":"se_lingxi","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"edu_search_20-5_v5","expPrefix":"edu_search_20","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_pa_n-6_v16","expPrefix":"se_pa_n","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"zvideocard-2_v3","expPrefix":"zvideocard","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_v_rescore_ab-2_v1","expPrefix":"se_v_rescore_ab","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_must_rank-1_v5","expPrefix":"se_must_rank","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_shopguide-4_v4","expPrefix":"se_shopguide","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_must_rerank-8_v6","expPrefix":"se_must_rerank","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_videobox_-4_v3","expPrefix":"se_videobox_","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_searchfilter-1_v3","expPrefix":"se_searchfilter","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_video_expand-7_v9","expPrefix":"se_video_expand","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"se_zhiplus_ec-13_v5","expPrefix":"se_zhiplus_ec","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false}],"params":[{"id":"ffzix_xgdzwz","type":"Int","value":"0","layerId":"ffzix_xgdzwz"},{"id":"a_choosy","type":"Int","value":"1","chainId":"_gene_","layerId":"a_choosy","key":1165},{"id":"web_heifetz_grow_ad","type":"String","value":"1","layerId":"webgw_layer_3"},{"id":"gue_video_guide","type":"String","value":"1","layerId":"guevd_layer_625"},{"id":"gue_sharp","type":"String","value":"1","layerId":"guevd_layer_686"},{"id":"an_video_tab","type":"Int","value":"0","chainId":"_gene_","layerId":"an_video_tab","key":727},{"id":"qa_recmd_zvideo","type":"Int","value":"0","chainId":"_gene_","layerId":"fzT4","key":1190},{"id":"gue_fo_recom","type":"String","value":"0","layerId":"gueqa_layer_780"},{"id":"se_zhiplus_cpc","type":"Int","value":"0","chainId":"_gene_","layerId":"se_zhiplus_cpc","key":716},{"id":"explore_all","type":"Int","value":"0","chainId":"_gene_","layerId":"explore_all","key":1076},{"id":"ge_item","type":"String","value":"2","chainId":"_gene_","layerId":"gese_layer_945","key":2971},{"id":"ts_cardtitle","type":"Int","value":"0","layerId":"l-ZED7"},{"id":"short_pin","type":"Int","value":"0","layerId":"short_pin"},{"id":"rec_new2th","type":"Int","value":"1","chainId":"_gene_","layerId":"Hump","key":320},{"id":"se_aaaa_new","type":"Int","value":"0","chainId":"_gene_","layerId":"se_aaaa_new","key":1365},{"id":"ge_usercard1","type":"String","value":"0","chainId":"_gene_","layerId":"gese_layer_742","key":2740},{"id":"hwtj_bottom_btn","type":"Int","value":"4","layerId":"l-jrhg"},{"id":"ffzx_lingquan","type":"Int","value":"0","layerId":"ffzx_lingquan"},{"id":"ad_com_zhi","type":"Int","value":"0","chainId":"_gene_","layerId":"ad_com_zhi","key":571},{"id":"web_scl_rec","type":"String","value":"0","layerId":"webgw_layer_759"},{"id":"qap_question_visitor","type":"String","value":" 0","chainId":"_all_","layerId":"qapqa_layer_2"},{"id":"web_collection_guest","type":"String","value":"1","layerId":"webqa_layer_4"},{"id":"gue_bulletmb","type":"String","value":"0","layerId":"guevd_layer_812"},{"id":"iserial","type":"Int","value":"0","chainId":"_gene_","layerId":"iserial","key":928},{"id":"se_labelid1924","type":"Int","value":"0","chainId":"_gene_","layerId":"se_labelid1924","key":1141},{"id":"se_must_rank","type":"Int","value":"0","chainId":"_gene_","layerId":"nF45","key":1331},{"id":"fe_test","type":"Int","value":"0","chainId":"_gene_","layerId":"fe_test","key":1075},{"id":"haowushangpin","type":"Int","value":"0","chainId":"_gene_","layerId":"haowushangpin","key":1217},{"id":"se_videobox_","type":"Int","value":"1","chainId":"_gene_","layerId":"se_videobox_","key":1408},{"id":"se_searchfilter","type":"Int","value":"0","chainId":"_gene_","layerId":"se_searchfilter","key":1438},{"id":"gue_card_test","type":"String","value":"1","layerId":"gueqa_layer_2"},{"id":"Full_ans_fav","type":"Int","value":"0","chainId":"_gene_","layerId":"Pnd6","key":372},{"id":"account_sdk","type":"Int","value":"2","chainId":"_gene_","layerId":"account_sdk","key":810},{"id":"se_v_rank_ab","type":"Int","value":"0","chainId":"_gene_","layerId":"se_v_rank_ab","key":1035},{"id":"ge_meta_ss","type":"String","value":"1","chainId":"_gene_","layerId":"gese_layer_834","key":3079},{"id":"ge_guess","type":"String","value":"0","chainId":"_gene_","layerId":"gese_layer_938","key":2912},{"id":"top_test_4_liguangyi","type":"String","value":"1","chainId":"_all_","layerId":"iosus_layer_1"},{"id":"pfd_newbie","type":"Int","value":"0","chainId":"_gene_","layerId":"pfd_newbie","key":63},{"id":"se_guess_hot","type":"Int","value":"1","chainId":"_gene_","layerId":"1nGW","key":882},{"id":"explore_b_opt","type":"Int","value":"0","chainId":"_gene_","layerId":"explore_b_opt","key":1297},{"id":"ge_rec_2th","type":"String","value":"11","chainId":"_gene_","layerId":"geli_layer_965","key":3023},{"id":"tp_topic_style","type":"String","value":"0","chainId":"_all_","layerId":"tptp_layer_4"},{"id":"xuanpinab","type":"Int","value":"0","layerId":"xuanpinab"},{"id":"PC_login","type":"Int","value":"2","layerId":"PC_login"},{"id":"test_rec","type":"Int","value":"10","layerId":"test_rec"},{"id":"web_login","type":"String","value":"2","layerId":"webgw_layer_759"},{"id":"ge_search_ui","type":"String","value":"1","chainId":"_gene_","layerId":"gese_layer_838","key":2898},{"id":"recnew_2th","type":"Int","value":"21","chainId":"_gene_","layerId":"l-recnew_2th","key":67},{"id":"i_secondary_tab","type":"Int","value":"0","chainId":"_gene_","layerId":"i_secondary_tab","key":1012},{"id":"se_title_bst","type":"Int","value":"0","chainId":"_gene_","layerId":"2Avz","key":1294},{"id":"secondary_tab","type":"Int","value":"0","chainId":"_gene_","layerId":"secondary_tab","key":1011},{"id":"i_choosy","type":"Int","value":"1","chainId":"_gene_","layerId":"i_choosy","key":1164},{"id":"zr_expslotpaid","type":"String","value":"4","chainId":"_all_","layerId":"zrrec_layer_11"},{"id":"ge_dipin_pre","type":"String","value":"0","chainId":"_gene_","layerId":"gese_layer_1000","key":3124},{"id":"ts_refresh","type":"Int","value":"1","layerId":"EBn6"},{"id":"next_autoplay","type":"Int","value":"0","layerId":"l-next_autoplay"},{"id":"ge_newbie3","type":"Int","value":"0","chainId":"_gene_","layerId":"ge_newbie3","key":180},{"id":"ge_yuzhi_v1","type":"String","value":"1","chainId":"_gene_","layerId":"gese_layer_1029","key":3127},{"id":"office_xp","type":"Int","value":"6666","layerId":"office_xp"},{"id":"Test_Punk","type":"Int","value":"0","layerId":"Test_Punk"},{"id":"ts_vip","type":"Int","value":"1","layerId":"ts_vip"},{"id":"zanswer","type":"Int","value":"1","layerId":"l-zanswer"},{"id":"se_zhiplus_ec","type":"Int","value":"3","chainId":"_gene_","layerId":"se_zhiplus_ec","key":1511},{"id":"gue_cdzixun","type":"String","value":"0","layerId":"gueqa_layer_3"},{"id":"web_answer_list_ad","type":"String","value":"1","layerId":"webqa_layer_4"},{"id":"pc_editorplugin","type":"Int","value":"1","layerId":"pc_editorplugin"},{"id":"SEM_Dynamic","type":"Int","value":"90","layerId":"SEM_Dynamic"},{"id":"PCplayingspeed","type":"Int","value":"0","layerId":"PCplayingspeed"},{"id":"Re_Collection","type":"Int","value":"0","chainId":"_gene_","layerId":"9olk","key":847},{"id":"new_video_ans","type":"Int","value":"0","chainId":"_gene_","layerId":"new_video_ans","key":1419},{"id":"se_ffzx_jushen1","type":"String","value":"0","chainId":"_all_","layerId":"sese_layer_4"},{"id":"gue_playh_an","type":"String","value":"1","layerId":"guevd_layer_622"},{"id":"club_fn","type":"Int","value":"1","layerId":"club_fn"},{"id":"hw_aa_50","type":"Int","value":"0","chainId":"_gene_","layerId":"hw_aa_50","key":362},{"id":"iosserial","type":"Int","value":"0","chainId":"_gene_","layerId":"m7Id","key":714},{"id":"meta_ebook","type":"Int","value":"1","layerId":"meta_ebook"},{"id":"pfd_newbie2","type":"Int","value":"0","chainId":"_gene_","layerId":"pfd_newbie2","key":71},{"id":"explore_b","type":"Int","value":"1","chainId":"_gene_","layerId":"explore_b","key":1257},{"id":"se_pa_n","type":"Int","value":"2","chainId":"_gene_","layerId":"959o","key":1301},{"id":"se_video_second","type":"Int","value":"0","chainId":"_gene_","layerId":"se_video_second","key":1496},{"id":"new_ques_rec","type":"Int","value":"4","layerId":"i1NO"},{"id":"h5_open","type":"Int","value":"0","layerId":"h5_open"},{"id":"pc_arti_rebulid","type":"Int","value":"0","layerId":"pc_arti_rebulid"},{"id":"zr_slotpaidexp","type":"String","value":"1","chainId":"_all_","layerId":"zrrec_layer_5"},{"id":"web_answerlist_ad","type":"String","value":"0","layerId":"webqa_layer_1"},{"id":"web_audit_01","type":"String","value":"case1","layerId":"webre_layer_1"},{"id":"ge_relation2","type":"String","value":"1","chainId":"_gene_","layerId":"gese_layer_815","key":2796},{"id":"tp_zrec","type":"String","value":"1","chainId":"_all_","layerId":"tptp_layer_619"},{"id":"se_edu","type":"Int","value":"1","chainId":"_gene_","layerId":"va37","key":1124},{"id":"se_lingxi","type":"Int","value":"1","chainId":"_gene_","layerId":"se_lingxi","key":1298},{"id":"edu_search_20","type":"Int","value":"2","chainId":"_gene_","layerId":"c6Il","key":1300},{"id":"web_richcontent","type":"Int","value":"1","layerId":"nXdw"},{"id":"ge_entity","type":"String","value":"0","chainId":"_gene_","layerId":"gese_layer_946","key":3036},{"id":"se_v_rescore_ab","type":"Int","value":"0","chainId":"_gene_","layerId":"se_v_rescore_ab","key":1330},{"id":"ge_hard_s_ma","type":"String","value":"0","chainId":"_gene_","layerId":"geli_layer_856","key":3031},{"id":"official_info","type":"Int","value":"2","chainId":"_gene_","layerId":"official_info","key":1251},{"id":"se_nwh_v2","type":"Int","value":"0","chainId":"_gene_","layerId":"se_nwh_v2","key":1366},{"id":"ge_prf_rec","type":"String","value":"0","chainId":"_gene_","layerId":"getop_layer_991","key":3040},{"id":"userlinkv2","type":"Int","value":"1","layerId":"userlinkv2"},{"id":"se_rel_boost","type":"Int","value":"5","chainId":"_gene_","layerId":"se_rel_boost","key":1233},{"id":"se_aihuida","type":"Int","value":"1","chainId":"_gene_","layerId":"se_aihuida","key":1242},{"id":"web_sem_ab","type":"String","value":"1","layerId":"webgw_layer_3"},{"id":"qap_question_author","type":"String","value":"0","chainId":"_all_","layerId":"qapqa_layer_2"},{"id":"pf_adjust","type":"String","value":"1","chainId":"_all_","layerId":"pfus_layer_9"},{"id":"editor","type":"Int","value":"1","layerId":"editor"},{"id":"se_v_new_table","type":"Int","value":"1","chainId":"_gene_","layerId":"eo6o","key":1016},{"id":"se_financial","type":"Int","value":"1","chainId":"_gene_","layerId":"se_financial","key":1111},{"id":"se_scholar_tab","type":"Int","value":"1","chainId":"_gene_","layerId":"se_scholar_tab","key":1034},{"id":"se_must_rerank","type":"Int","value":"4","chainId":"_gene_","layerId":"se_must_rerank","key":1362},{"id":"se_simclick","type":"Int","value":"0","chainId":"_gene_","layerId":"se_simclick","key":1507},{"id":"se_scho_rescore","type":"Int","value":"0","chainId":"_gene_","layerId":"se_scho_rescore","key":1563},{"id":"tp_dingyue_video","type":"String","value":"0","chainId":"_all_","layerId":"tptp_layer_4"},{"id":"PC_blockLogin","type":"Int","value":"0","layerId":"PC_blockLogin"},{"id":"km_detail_knn","type":"Int","value":"1","layerId":"l-TY59"},{"id":"upgrade_popup","type":"Int","value":"0","layerId":"upgrade_popup"},{"id":"gue_video_replay","type":"String","value":"2","layerId":"guevd_layer_3"},{"id":"gue_iosplay","type":"String","value":"1","layerId":"guevd_layer_810"},{"id":"gue_repost","type":"String","value":"1","layerId":"gueqa_layer_671"},{"id":"ge_newyanzhi","type":"String","value":"0","chainId":"_gene_","layerId":"geus_layer_1019","key":2788},{"id":"gue_bullet_second","type":"String","value":"1","layerId":"guevd_layer_1"},{"id":"use_bff_profit","type":"Int","value":"0","layerId":"use_bff_profit"},{"id":"gue_goods_card","type":"String","value":"0","layerId":"gueqa_layer_1"},{"id":"ge_sug_rep","type":"String","value":"1","chainId":"_gene_","layerId":"gese_layer_1034","key":3158},{"id":"gue_bullet_guide","type":"String","value":"发个弹幕聊聊…","layerId":"guevd_layer_0"},{"id":"android_serial","type":"Int","value":"0","chainId":"_gene_","layerId":"android_serial","key":929},{"id":"ge_video","type":"String","value":"1","chainId":"_gene_","layerId":"geli_layer_856","key":2831},{"id":"gue_art_ui","type":"String","value":"2","layerId":"gueqa_layer_647"},{"id":"gue_recmess","type":"String","value":"1","layerId":"gueqa_layer_795"},{"id":"webpImg","type":"Int","value":"2","layerId":"JnVt"},{"id":"io_video_tab","type":"Int","value":"0","chainId":"_gene_","layerId":"io_video_tab","key":728},{"id":"gue_q_share","type":"String","value":"0","layerId":"gueqa_layer_647"},{"id":"art_next_video","type":"Int","value":"0","chainId":"_gene_","layerId":"art_next_video","key":1305},{"id":"se_zp_qt","type":"Int","value":"0","chainId":"_gene_","layerId":"se_zp_qt","key":1474},{"id":"gue_messrec","type":"String","value":"0","layerId":"gueqa_layer_769"},{"id":"vdox_cmt","type":"Int","value":"1","layerId":"l-9YBb"},{"id":"book_kpwz","type":"Int","value":"2","chainId":"_gene_","layerId":"Zyox","key":671},{"id":"And_Collection","type":"Int","value":"0","chainId":"_gene_","layerId":"VbMB","key":848},{"id":"andserial","type":"Int","value":"0","chainId":"_gene_","layerId":"CAxI","key":711},{"id":"se_anti_cheat","type":"Int","value":"0","chainId":"_gene_","layerId":"se_anti_cheat","key":1407},{"id":"se_video_expand","type":"Int","value":"3","chainId":"_gene_","layerId":"se_video_expand","key":1457},{"id":"web_column_auto_invite","type":"String","value":"0","layerId":"webqa_layer_1"},{"id":"tp_contents","type":"String","value":"2","chainId":"_all_","layerId":"tptp_layer_627"},{"id":"edu_cd1","type":"Int","value":"1","layerId":"l-l18Y"},{"id":"test_3","type":"Int","value":"1","chainId":"_gene_","layerId":"dABe","key":637},{"id":"se_images","type":"Int","value":"0","chainId":"_gene_","layerId":"ulTc","key":652},{"id":"se_hw_search","type":"Int","value":"0","chainId":"_gene_","layerId":"gfsj","key":1093},{"id":"se_downgrade","type":"Int","value":"0","chainId":"_gene_","layerId":"LXXf","key":1458},{"id":"gue_v_serial","type":"String","value":"1","layerId":"guevd_layer_695"},{"id":"comment","type":"Int","value":"0","chainId":"_gene_","layerId":"comment","key":644},{"id":"book_ebook","type":"Int","value":"0","chainId":"_gene_","layerId":"book_ebook","key":758},{"id":"se_proxi2","type":"Int","value":"4","chainId":"_gene_","layerId":"cfX3","key":1090},{"id":"se_edu_model","type":"Int","value":"0","chainId":"_gene_","layerId":"Gwpw","key":1537},{"id":"gue_visit_n_artcard","type":"String","value":"1","layerId":"gueqa_layer_579"},{"id":"gue_profile_video","type":"String","value":"1","layerId":"guevd_layer_5"},{"id":"explore_fl_pic","type":"Int","value":"1","layerId":"explore_fl_pic"},{"id":"hw_aa_30","type":"Int","value":"1","chainId":"_gene_","layerId":"hw_aa_30","key":361},{"id":"plus_panel","type":"Int","value":"0","chainId":"_gene_","layerId":"2CDt","key":818},{"id":"pf_noti_entry_num","type":"String","value":"2","chainId":"_all_","layerId":"pfus_layer_718"},{"id":"gue_zvideo_link","type":"String","value":"1","layerId":"guevd_layer_2"},{"id":"gue_vid_tab","type":"String","value":"7","layerId":"guevd_layer_900"},{"id":"se_videobox","type":"Int","value":"0","chainId":"_gene_","layerId":"se_videobox","key":1248},{"id":"se_videoanswer","type":"Int","value":"0","chainId":"_gene_","layerId":"se_videoanswer","key":1546},{"id":"ge_sxzx","type":"String","value":"0","chainId":"_gene_","layerId":"gere_layer_990","key":3060},{"id":"private_vanswer","type":"Int","value":"0","chainId":"_gene_","layerId":"private_vanswer","key":951},{"id":"gue_andplayd","type":"String","value":"1","layerId":"guevd_layer_686"},{"id":"explore_newbee","type":"Int","value":"0","chainId":"_gene_","layerId":"explore_newbee","key":930},{"id":"mixer_monetize","type":"Int","value":"0","chainId":"_gene_","layerId":"mixer_monetize","key":1335},{"id":"ge_infinity6","type":"String","value":"0","chainId":"_gene_","layerId":"gese_layer_815","key":2817},{"id":"zvideocard","type":"Int","value":"0","chainId":"_gene_","layerId":"zvideocard","key":1321},{"id":"gue_art2qa","type":"String","value":"0","layerId":"gueqa_layer_579"},{"id":"ge_emoji","type":"String","value":"0","chainId":"_gene_","layerId":"getp_layer_827","key":3209},{"id":"ge_newcard","type":"String","value":"3","chainId":"_gene_","layerId":"geus_layer_839","key":2997},{"id":"h5_signin","type":"Int","value":"0","layerId":"h5_signin"},{"id":"show_ad","type":"Int","value":"0","chainId":"_gene_","layerId":"show_ad","key":27},{"id":"rec_3th","type":"Int","value":"21","chainId":"_gene_","layerId":"pRqt","key":697},{"id":"se_shopguide","type":"Int","value":"1","chainId":"_gene_","layerId":"se_shopguide","key":1361},{"id":"vanswer_new","type":"Int","value":"0","chainId":"_gene_","layerId":"vanswer_new","key":1420},{"id":"v_search","type":"Int","value":"0","chainId":"_gene_","layerId":"v_search","key":1558},{"id":"se_zhiplus_ecpm","type":"Int","value":"0","chainId":"_gene_","layerId":"mr6i","key":855},{"id":"share_content","type":"Int","value":"0","chainId":"_gene_","layerId":"share_content","key":1238},{"id":"qa_coti_cotn","type":"Int","value":"0","chainId":"_gene_","layerId":"qa_coti_cotn","key":1347}],"chains":[{"chainId":"_all_"}],"encodedParams":"CswBjQTXAqYEzAI0BJsLQAFVBbQKOwKgA3UEMwUzBMEEgAWeBXQBKgMLBAcMYAs\u002FAHIDEQXPC1ILQwD0Aw4F8wOMBDQMtAA3DOcFTwOLBWoBygJHAOkEFQXYBewKZAQSBRQF3AsyBdcL4wRWBeAL0QTaBPgDVwQKBFIF4wUbBuQKVgyhAw8L2AIZBcIFnwJQA8cCfwWxBX0CjAJFBLIFhAL2AkIEAQZpATID4AQKBvQLtwOiAzcFAQspBYkMtQsbALkCUQWMBRYGVwPWBEMFEmYBAAAAAAIBAAAAAAAAAAABAAACAAEAAAEACwEVAAAAAQAAAQMAAAAAAAECAAEBAQIAAAACAAAFAQEBAQQAAAABAAEAAAACAAAAAwEAAAAAAAQAAQAAAAAAAAAAAAADABUBAAAAAAA="},"triggers":{}},"userAgent":{"Edge":false,"IE":false,"Wechat":false,"Weibo":false,"QQ":false,"MQQBrowser":false,"Qzone":false,"Mobile":false,"Android":false,"iOS":false,"isAppleDevice":false,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"Safari":false,"GoogleBot":false,"AndroidDaily":false,"iOSDaily":false,"WxMiniProgram":false,"BaiduMiniProgram":false,"QQMiniProgram":false,"JDMiniProgram":false,"isWebView":false,"isMiniProgram":false,"origin":"Mozilla\u002F5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F95.0.4638.54 Safari\u002F537.36 Edg\u002F95.0.1020.40"},"appViewConfig":{},"ctx":{"path":"\u002Fp\u002F342151242","query":{},"href":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F342151242","host":"zhuanlan.zhihu.com"},"trafficSource":"production","edition":{"beijing":false,"baidu":false,"sogou":false,"baiduBeijing":false,"sogouBeijing":false,"sogouInput":false,"baiduSearch":false,"googleSearch":false,"shenma":false,"miniProgram":false,"xiaomi":false},"theme":"light","appHeaderTheme":{"current":"normal","disable":true,"normal":{"bgColor":"GBK99A"},"custom":{"bgColor":"GBK99A"}},"enableShortcut":true,"referer":"","xUDId":"AADe5arG3RKPTlRoeFTmn9zsmaaSK0mM-aE=","mode":"ssr","conf":{},"xTrafficFreeOrigin":"","ipInfo":{"cityName":"成都","countryName":"中国","regionName":"四川","countryCode":"CN"},"logged":true,"vars":{"passThroughHeaders":{}}},"me":{"columnContributions":[]},"label":{"recognizerLists":{}},"ecommerce":{},"comments":{"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"parent":{}},"commentsV2":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"needSMSIdentify":false,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false,"captchaBase64String":null,"captchaValidationMessage":null,"loginCaptchaExpires":false},"sms":{"supportedCountries":[]},"chat":{"chats":{},"inbox":{"recents":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"strangers":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"friends":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"search":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"config":{"newCount":0,"strangerMessageSwitch":false,"strangerMessageUnread":false,"friendCount":0}},"global":{"isChatMqttExisted":false}},"emoticons":{"emoticonGroupList":[],"emoticonGroupDetail":{}},"creator":{"currentCreatorUrlToken":null,"homeData":{"recommendQuestions":[]},"tools":{"question":{"invitationCount":{"questionFolloweeCount":0,"questionTotalCount":0},"goodatTopics":[]},"customPromotion":{"itemLists":{}},"recommend":{"recommendTimes":{}}},"explore":{"academy":{"tabs":[],"article":{}}},"rights":[],"rightsStatus":{},"levelUpperLimit":10,"account":{"growthLevel":{}},"mcn":{},"applyStatus":{},"videoSupport":{},"mcnManage":{},"tasks":{},"recentlyCreated":[],"analysis":{"all":{},"answer":{},"zvideo":{},"article":{},"pin":{},"singleContent":{}},"announcement":{},"bannerList":[],"school":{"tabs":[],"contents":[],"banner":null,"entities":{}},"creatorsRecommendInfo":{},"menusShowControlByServer":{"bVipRecomend":false,"creationRelationship":false}},"answers":{"voters":{},"copyrightApplicants":{},"favlists":{},"newAnswer":{},"concernedUpvoters":{},"simpleConcernedUpvoters":{},"paidContent":{},"settings":{}},"recommendation":{"homeRecommendations":[]},"shareTexts":{},"articles":{"voters":{},"concernedUpvoters":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{},"shareVideoDetail":{},"last":{}},"topstory":{"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"room":{"meta":{},"isFetching":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotListCategories":[],"hotList":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]},"hotDaily":{"data":[],"paging":{}},"hotHighlight":{"isFetching":false,"isDrained":false,"data":[],"paging":{}},"banner":{},"video":{"items":[],"next":null,"isLoading":false,"isDrained":false}},"readStatus":{},"column":{},"requestColumn":{"categories":[],"error":null},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"columnContribution":{"contributeRequests":[],"autoInviteEnabled":false,"recommendedContributors":[],"contributionInvitation":null},"draftHistory":{"history":{},"drafts":{}},"upload":{},"articleDraft":{"titleImage":"","titleImageSize":{},"isTitleImageFullScreen":false,"canTitleImageFullScreen":false,"title":"","titleImageUploading":false,"error":"","content":"","draftLoading":false,"updating":false,"globalLoading":false,"pendingVideo":{"resource":null,"error":null},"deleteFail":{"fail":false},"recommendTopics":[],"selectedColumn":0,"articleDisclaimers":[]},"articleDrafts":{"isDrained":false,"isLoading":false,"items":[]},"columnAutocomplete":{"users":[],"friends":[]},"columnCollection":{},"userProfit":{"permission":{"permissionStatus":{"zhiZixuan":0,"recommend":-1,"task":0,"plugin":0,"infinity":0},"visible":false}},"mcn":{"bindInfo":{},"memberCategoryList":[],"producerList":[],"categoryList":[],"lists":{},"banners":{},"protocolStatus":{"isAgreedNew":true,"isAgreedOld":true},"probationCountdownDays":0},"zvideos":{"campaignVideoList":{},"campaigns":{},"tagoreCategory":[],"recommendations":{},"insertable":{},"recruit":{"form":{"platform":"","nickname":"","followerCount":"","domain":"","contact":""},"submited":false,"ranking":[]},"club":{},"qyActivityData":{},"talkActivityData":{},"batchVideos":{},"contribution":{"selectedContribution":null,"campaign":null,"configs":{},"contributionLists":{},"recommendQuestions":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]},"questionSearchResults":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]}},"creationReferences":{},"zvideoCollection":{},"zvideoGrant":{},"collectData":{"isFetching":false,"list":[]}},"republish":{}},"fetchHost":"www.zhihu.com","subAppName":"column"}</script><script crossorigin="" src="./GCC_Make_CMake 之 GCC - 知乎_files/vendor.361d6298269aaf7ec23f.js.下载"></script><script crossorigin="" src="./GCC_Make_CMake 之 GCC - 知乎_files/column.app.fba38a6f51c6319aa0f2.js.下载"></script><script src="./GCC_Make_CMake 之 GCC - 知乎_files/hm.js.下载" async=""></script><script crossorigin="" src="./GCC_Make_CMake 之 GCC - 知乎_files/zap.js.下载"></script><script src="./GCC_Make_CMake 之 GCC - 知乎_files/push.js.下载"></script><div><div style="display: none;">想来知乎工作？请发送邮件到 jobs@zhihu.com</div></div><div><div><div class="css-8pdeid"></div></div></div><script crossorigin="" src="./GCC_Make_CMake 之 GCC - 知乎_files/emoticon.js.下载"></script><div><div><div class="Editable-languageSuggestions" style="left: -1179px; top: -999px;"><div></div></div></div></div></body></html>